var clientManager=null;var Cursor={None:"",Default:"default",Pointer:"pointer"};$addHandler(document.body,"selectstart",function(d,b){try{if(d.target.tagName=="BODY"||(d.target.tagName!="INPUT"&&d.target.tagName!="TEXTAREA")){document.selection.empty();d.preventDefault();d.stopPropagation()}}catch(c){}});$addHandler(document,"contextmenu",function(d,b){try{if(d.target.tagName!="INPUT"&&d.target.tagName!="TEXTAREA"&&!$(d.target).parent().hasClass("chartThumb")){d.preventDefault();d.stopPropagation();return false}}catch(c){}});var processing=0;$(window).ajaxSend(function(){processing++;$(".viewSelect span:first").css({color:"#888"},500)});$(window).ajaxComplete(function(){processing--;if(processing<0){processing=0}if(processing==0){$(".viewSelect span:first").css({color:"#2d58a8"},500)}});$(window).ajaxError(function(e,d,i,h){var g=true;if(!h){if(i.dataType!="json"||d.responseText.indexOf("{")>0){h=$("<DIV />").html(d.responseText.replace(/\<STYLE/ig,"<!-- ").replace(/\<\/STYLE\>/ig,"-->").replace(/\<SCRIPT/ig,"<!-- ").replace(/\<\/SCRIPT\>/ig,"-->")).html()}else{try{h=Sys.Serialization.JavaScriptSerializer.deserialize(d.responseText,true);if(typeof h=="object"&&h.error&&h.error.message){h=h.error.message.value}}catch(f){}}}else{if(typeof h=="object"&&h.name=="SyntaxError"&&i.dataType=="json"){clientManager.validateCurrentUser();g=false}}if(!h||typeof h!="string"){h="Unspecified error"}if(g){$alert(h,"PathfinderRx Error",null,null,Pathfinder.UI.AlertType.Error)}});Type.registerNamespace("Pathfinder.UI");Pathfinder.UI.ClientAccount=function(d,a){this._clientKey=d;this._options={};if(a){var c=a.split(",");for(var b in c){this._options[$.trim(c[b])]=true}}};Pathfinder.UI.ClientAccount.prototype={get_ClientKey:function(){return this._clientKey},set_ClientKey:function(a){this._clientKey=a},HasOption:function(a){return this._options[a]===true}};Pathfinder.UI.ClientAccount.registerClass("Pathfinder.UI.ClientAccount");Pathfinder.UI.Applications=function(){if(arguments.length!==0){throw Error.parameterCount()}throw Error.notImplemented()};Pathfinder.UI.Applications.prototype={TodaysAccounts:1,TodaysAnalytics:2,StandardReports:3,CustomOptions:4,AccessBasedSelling:5,PowerPlanRx:6,FormularySellSheets:8,CustomerContactReports:9,FormularyHistoryReporting:14,PrescriberReporting:15,ActivityReporting:16,CustomSegments:20};Pathfinder.UI.Applications.registerEnum("Pathfinder.UI.Applications");Pathfinder.UI.AlertType=function(){};Pathfinder.UI.AlertType.prototype={Warning:1,Information:2,Error:3};Pathfinder.UI.AlertType.registerEnum("Pathfinder.UI.AlertType");Pathfinder.UI.Application=function(a){this._clientKey=null;this._id=a;this.mapDataRequestUIStateProperties=["Application","Channel","Drug","Geography"]};Pathfinder.UI.Application.instances={};Pathfinder.UI.Application.getInstance=function(d,c,a){var b=Pathfinder.UI.Application.instances[c];if(b==null){c=parseInt(c,10);var e="Invalid application id: "+c;var i=$.grep(d.get_ApplicationMenuOptions(),function(j,k){return j.ID==c})[0];if(i){if(i.Name){var g=d.get_ClientKey();var h=(i.Custom&&g!="pinso"?g.substr(0,1).toUpperCase()+g.substr(1):"");var f=h+i.App_Folder.replace(/\W/ig,"")+"Application";f=Pathfinder.UI[f];if(f){b=new f(c)}else{e="Missing application class definition for "+i.Name}}else{e="Missing application name: "+c}}if(!b){throw new Error(e)}Pathfinder.UI.Application.instances[c]=b;b.initialize(d)}d._applicationManager=b;if(a==true){b.activate(d)}return b};Pathfinder.UI.Application.destroyInstances=function(){for(var b in Pathfinder.UI.Application.instances){try{Pathfinder.UI.Application.instances[b].dispose();delete (Pathfinder.UI.Application.instances[b])}catch(a){}}};Pathfinder.UI.Application.prototype={get_ApplicationID:function(){return this._id},get_clientKey:function(){return this._clientKey},get_ModuleMenu:function(){return $find("divModuleOptions")},getDefaultChannel:function(){return null},getDefaultModule:function(a){return null},get_UrlName:function(){throw new Error("UrlName is not implemented.  Use a subclass of Pathfinder.UI.Application that overrides this property.")},get_ServiceUrl:function(){return this.get_UrlName()+"/services/pathfinderdataservice.svc"},get_ClientServiceUrl:function(){return this.get_UrlName()+"/services/pathfinderclientdataservice.svc"},get_MapUIStatePropertyNames:function(){return this.mapDataRequestUIStateProperties},getUrl:function(b,e,a,f,d){d=d==true;var c=(d?"custom/"+this.get_clientKey()+"/"+this.get_UrlName():this.get_UrlName());if(a==null){a=e+".aspx"}if(e!=null&&e!=""&&(a!=e+".aspx"||f)){c+="/"+b+"/"+a}else{if(a==e+".aspx"){a="default.aspx"}c+="/all/"+a}return c},getDefaultData:function(a){return null},hasChannelMenuOptions:function(b){var a=b.get_ChannelMenuOptions()[this.get_ApplicationID()];if(a){for(var c in a){if(a[c]["ID"]>0){return true}}}return false},canFilterByRegion:function(c){var b=c.get_Channel();var d=this.get_ApplicationID();if(d==18||d==1){return true}var a=c.getModuleProp(d,"map","Channels");return(a&&a[b]==1)},configureDashboardTiles:function(a){this.resize()},resetDashboardTiles:function(a){},configureChannelMenu:function(c){var j=c.get_ChannelMenuOptions()[this.get_ApplicationID()];if(j){var f=false;var h=false;for(var d in j){if(j[d]["ID"]==c.get_Channel()){f=true}if(j[d]["ID"]==c.get_EffectiveChannel()){h=true}}if(!f){var e=this.getDefaultChannel();if(e&&j[e]){c.set_Channel(e)}else{for(var g in j){c.set_Channel(j[g]["ID"]);break}}}else{if(!h){for(var g in j){c.set_EffectiveChannel(j[g]["ID"]);break}}}c.registerComponent("ctl00_main_subheader1_channelMenu",null,null,"mainSection");var k=c.get_Application();var b=c._history[c._currentHistoryIndex];var m=false;var b=c._history[c._currentHistoryIndex];if(typeof(b)!="undefined"){m=(Sys.Serialization.JavaScriptSerializer.deserialize(b,true)["Application"]!=k)}if(!c.get_ChannelMenuCheckBoxList()){$createCheckboxDropdown("ctl00_main_subheader1_channelMenu","Channel_Menu",null,{defaultText:"No Selection",multiItemText:"Change Selection"},{itemClicked:this.channelMenuOptionClicked},"mainSection")}if(m||typeof(b)=="undefined"){var a=jQuery.extend(true,{},j);for(var g in a){if(a[g].ID==99){delete (a[g])}}var l=c.get_ChannelMenuCheckBoxList();$loadPinsoListItems(l,a,null,-1);c.setContextValue("customSegmentClicked","false")}$updateCheckboxDropdownText("ctl00_main_subheader1_channelMenu","Channel_Menu")}},channelMenuOptionClicked:function(b,a){var d=(clientManager.getContextValue("customSegmentClicked")==="true");var c=clientManager.get_ChannelMenuCheckBoxList();if(parseInt(a.item.value)>100&&(!d)){clientManager.setContextValue("customSegmentClicked","true");$(c.get_element()).find("input[type=checkbox]").each(function(){this.checked=false});c.selectItem(a.item.value)}else{if(a.item.value<100){$(c.get_element()).find("input[type=checkbox]").each(function(){if(parseInt(this.value)>100){this.checked=false}})}clientManager.setContextValue("customSegmentClicked","false")}},configureModuleMenu:function(c,b,a){if(this.get_ModuleMenu()){this.get_ModuleMenu().clear()}$(".navbar2").hide();return a},initialize:function(a){this._clientKey=a.get_ClientKey()},activate:function(e){var d=this.configureModuleMenu(e,e.get_Channel(),null);if(e.get_UIReady()){e._module=d}this.configureDashboardTiles(e);this.configureChannelMenu(e);if(e&&this.get_ApplicationID()!=Pathfinder.UI.Applications.TodaysAccounts){var b=e.get_ChannelMenuOptions()[this.get_ApplicationID()];var a=0;for(var c in b){a++;if(b[c]["ID"]==0&&a==1&&(this.getDefaultChannel()<0||this.get_ApplicationID()!=Pathfinder.UI.Applications.TodaysAccounts)){e.set_EffectiveChannel(0)}break}}$("#table1, .navbar2, #section2, .dashboardTable:not(.notbound)").css("visibility","visible");if((this.getDefaultChannel()==105)||(this.getDefaultChannel()==106)||(this.getDefaultChannel()==107)||(this.getDefaultChannel()==108)){$("tileMin1").css({display:"none"});$("tileMin1").css({width:"0px"});$("expandTile1").css({display:"none"});$("expandTile1").css({width:"0px"});$("tileMin2").css({marginLeft:"0px"})}},deactivate:function(a){$("#table1, .navbar2, #section2, .dashboardTable").css("visibility","hidden");this.resetDashboardTiles(a)},dispose:function(){},collapseSidePanel:function(){minTile2()},expandSidePanel:function(){maxTile2()},resize:function(a){this.resizeModal();fixMapTip();maxTile()},resizeSection:function(a){},resizeModal:function(){var b=$(window);var a=b.height();var c=b.width();$(".RadWindow table").height("100%");$("#RadWindowWrapper_modal").css({height:a-150,width:c/1.05},animationSpeed)},configureSection:function(){}};Pathfinder.UI.Application.registerClass("Pathfinder.UI.Application");Pathfinder.UI.BasicApplication=function(a){Pathfinder.UI.BasicApplication.initializeBase(this,[a])};Pathfinder.UI.BasicApplication.configureDashboardTiles=function(b,c,a){$("#divTile2Container .title").html(c);$(".moduleSubHeader .title").text(a);$("#divTile2Container .pagination").hide();$(".tile2Div").hide();$("#divTile2ModuleSelection").show();$("#tile1, #tileMin1").hide();$("#tile2 .min").show();$("#section2").addClass("section2SR")};Pathfinder.UI.BasicApplication.resetDashboardTiles=function(a){$("#section2SR").attr("id","section2");$("#section2").removeClass("section2SR");$("#divTile2Container .title").html("...");$(".moduleSubHeader .title").text("");$(".enlarge").hide();$("#expandTile2SR").width(0).hide();$("#tileMin2SR").attr({id:"tile2"});$("#divTile2").css({position:""});$("#tile2").css("position","").css("left","");$("#tile2 .tileContainerHeader .title").show();$("#tile2 .tileContainerHeader .tools").show();$("#tile2 #divTile2 #moduleSelector").show();$(".enlarge").show();$("#tile3").addClass("leftTile");$("#section2").removeClass("todaysAccounts2Expand");$("#tile2").height(getTile1Height()).width("auto");$("#tile2 #divTile2Container ").show();$("#tile1, #tileMin1").height(getTile1Height());$("#tile1, #tileMin1").show();$("#divTile2ModuleSelection").hide();a.unloadPage("section2");$("#section2").removeAttr("style");$("#tile2").show();
$("#infoPopup").hide()};Pathfinder.UI.BasicApplication.prototype={get_Title:function(){return""},get_SubHeaderTitle:function(){return""},get_ModuleMenu:function(){return $find("moduleSelector")},get_OptionsServiceUrl:function(a){return this.get_ServiceUrl()+"/GetModuleOptions"},get_OptionsServiceArgs:function(){return null},dispose:function(){delete (this._channelChangedDelegate);delete (this._moduleChangingDelegate);delete (this._moduleChangedDelegate);delete (this._viewRestoredDelegate);Pathfinder.UI.BasicApplication.callBaseMethod(this,"dispose")},activate:function(a){Pathfinder.UI.BasicApplication.callBaseMethod(this,"activate",[a]);if(this._channelChangedDelegate==null){this._channelChangedDelegate=Function.createDelegate(this,this._channelChanged);a.add_channelChanged(this._channelChangedDelegate)}if(this._moduleChangingDelegate==null){this._moduleChangingDelegate=Function.createDelegate(this,this._moduleChanging);a.add_moduleChanging(this._moduleChangingDelegate)}if(this._moduleChangedDelegate==null){this._moduleChangedDelegate=Function.createDelegate(this,this._moduleChanged);a.add_moduleChanged(this._moduleChangedDelegate)}if(this._viewRestoredDelegate==null){this._viewRestoredDelegate=Function.createDelegate(this,this._viewRestored);a.add_restoredView(this._viewRestoredDelegate)}},deactivate:function(a){a.remove_moduleChanging(this._moduleChangingDelegate);a.remove_moduleChanged(this._moduleChangedDelegate);a.remove_channelChanged(this._channelChangedDelegate);a.remove_restoredView(this._viewRestoredDelegate);delete (this._channelChangedDelegate);delete (this._moduleChangingDelegate);delete (this._moduleChangedDelegate);delete (this._viewRestoredDelegate);a.unloadPage("moduleOptionsContainer");Pathfinder.UI.BasicApplication.callBaseMethod(this,"deactivate",[a])},configureDashboardTiles:function(a){Pathfinder.UI.BasicApplication.configureDashboardTiles(a,this.get_Title(),this.get_SubHeaderTitle());Pathfinder.UI.BasicApplication.callBaseMethod(this,"configureDashboardTiles",[a]);this._reloadModuleOptionsContainer(a,true)},resetDashboardTiles:function(a){Pathfinder.UI.BasicApplication.resetDashboardTiles(a);Pathfinder.UI.BasicApplication.callBaseMethod(this,"resetDashboardTiles",[a])},_updateOptions:function(g,e,a,f){g.clear();var c;for(var b in f){c=f[b];if(c.Channels[0]||c.Channels[e]){g.addItem(c.ID,c.Name,c.ID)}}if(a=="coTierCoverageHxFormulary".toLowerCase()){a="coTierCoverageHxFormulary"}else{if(a=="coRestrictionsHxFormulary".toLowerCase()){a="coRestrictionsHxFormulary"}}if(g.getItem(a)!=null){g.highlightItem(a);return a}else{var d=g.getItemAt(0);if(d){g.highlightItem(d.id);return d.value}}return a},configureModuleMenu:function(d,c,a){a=Pathfinder.UI.BasicApplication.callBaseMethod(this,"configureModuleMenu",[d,c,a]);d.unloadPage("moduleOptionsContainer");var e=this.get_ModuleMenu();if(a==null){a=this.getDefaultModule(d)}if(e){var b=this;if(this._reportOptions==null){this._reportOptions=d.getModuleOptionsByApp(this.get_ApplicationID());if(!this._reportOptions.length){this._reportOptions=null}}if(this._reportOptions==null){$.getJSON(this.get_OptionsServiceUrl(),this.get_OptionsServiceArgs(),function(g,f){for(var f in g.d){b._reportOptions=Sys.Serialization.JavaScriptSerializer.deserialize(g.d[f]);break}a=b._updateOptions(e,c,d.get_Module(),b._reportOptions)})}else{a=this._updateOptions(e,c,d.get_Module(),this._reportOptions)}}return a},get_ModuleOptionsUrl:function(a){return null},_channelChanged:function(b,a){this._reloadModuleOptionsContainer(b)},_moduleChanging:function(b,a){b.clearSelectionData(true)},_moduleChanged:function(b,a){this._reloadModuleOptionsContainer(b)},_viewRestored:function(b,a){this._reloadModuleOptionsContainer(b,true)},_reloadModuleOptionsContainer:function(c,b){if(b||c.get_UIReady()){var a=this.get_ModuleOptionsUrl(c);if(a&&c.get_Module()){c.loadPageUsingUIState(a,"moduleOptionsContainer")}else{c.unloadPage("moduleOptionsContainer")}}}};Pathfinder.UI.BasicApplication.registerClass("Pathfinder.UI.BasicApplication",Pathfinder.UI.Application);Pathfinder.UI.TodaysAccountsApplication=function(a){Pathfinder.UI.TodaysAccountsApplication.initializeBase(this,[a]);this._channelChangedDelegate=null;this._previousChannel=null;this._rebindPlanInfoGrid=true;this._resetChannel=false;this._previousRegion=null;this._initialActivation=false;this._defaultModule="planinformation"};Pathfinder.UI.TodaysAccountsApplication.prototype={get_UrlName:function(){return"todaysaccounts"},getDefaultChannel:function(){return this._previousChannel?(this._previousChannel!=99?this._previousChannel:[1]):[1]},getDefaultModule:function(b){var a=b.get_Channel();if($.inArray(0,a)==-1){return this._defaultModule}return null},initialize:function(a){this.mapDataRequestUIStateProperties=["Application","Channel","Geography","Region"];Pathfinder.UI.TodaysAccountsApplication.callBaseMethod(this,"initialize",[a])},dispose:function(){delete (this._channelChangedDelegate);Pathfinder.UI.TodaysAccountsApplication.callBaseMethod(this,"dispose")},activate:function(a){this._resetChannel=(a.get_EffectiveChannel()==0);var b=(this._resetChannel||a.get_EffectiveChannel()>100);Pathfinder.UI.TodaysAccountsApplication.callBaseMethod(this,"activate",[a]);if(this._channelChangedDelegate==null){this._channelChangedDelegate=Function.createDelegate(this,this._channelChanged);a.add_channelChanged(this._channelChangedDelegate)}a.set_Channel(this.getDefaultChannel());a.get_ChannelMenuCheckBoxList().selectItem(a.get_Channel());$updateCheckboxDropdownText("ctl00_main_subheader1_channelMenu","Channel_Menu");this._refreshPlanInfoGrid(a);this._initialActivation=true;if(!ensureMapIsLoaded(a.get_CurrentMapUIStateAsText())){if(!a.get_MapIsReady()){new cmd(null,initMap,["fmASEngine",a.get_CurrentMapUIStateAsText()],500)}else{if(!b){a.mapReloadData()}}}if(a){a.get_ChannelMenu().set_visible(true)}$("#tile2 .enlarge").show();$("#tile2 .min").hide()},deactivate:function(a){if(flashSupported){fmPOIsHideCategory("visn");fmPOIsHideCategory("msa")}this._previousChannel=a.get_EffectiveChannel();this._previousRegion=a.get_Region();this._rebindPlanInfoGrid=null;a.remove_channelChanged(this._channelChangedDelegate);delete (this._channelChangedDelegate);if(a){a.get_ChannelMenu().set_visible(false)}Pathfinder.UI.TodaysAccountsApplication.callBaseMethod(this,"deactivate",[a])},configureSection:function(){if(!$get("divTile5Max")){$("#section2 .enlarge").show()}},resize:function(){todaysaccounts_content_resize();Pathfinder.UI.TodaysAccountsApplication.callBaseMethod(this,"resize")},resizeSection:todaysaccounts_section_resize,resizeModal:function(){Pathfinder.UI.TodaysAccountsApplication.callBaseMethod(this,"resizeModal");$(".RadWindow iframe").each(function(){this.contentWindow.$("#ctl00_main_gridContacts_GridData").css({height:$(this.contentWindow).height()-73,overflow:"auto"})})},getDefaultData:function(d){var b=d.get_PlanInfoGrid().get_masterTableView();if(b.get_virtualItemCount()>0){var a=b.get_selectedItems();var e={};if(a!=null&&a.length>0){var f=b.get_clientDataKeyNames();for(var c=0;c<f.length;c++){e[f[c]]=a[0].get_dataItem()[f[c]]}return e}}return null},_refreshPlanInfoGrid:function(e){var g=e.get_Channel();var h=e.get_Application();var i=e.get_Region();var k=this._rebindPlanInfoGrid;if(k==null){k=(this._previousChannel!=g)}var c=e._history[e._currentHistoryIndex];if(typeof(c)=="undefined"){c=e.get_CurrentUIStateAsText()}var j=(Sys.Serialization.JavaScriptSerializer.deserialize(c,true)["Application"]!=h);if(!k&&this._previousRegion==i&&!j){this.configureModuleMenu(e,g,e.get_Module())}else{if(k){e.resetPlans()}var d=this.getDefaultChannel();this._previousChannel=e.get_EffectiveChannel();this._previousRegion=i;if(!this._resetChannel||j){var b=e.get_PlanInfoGrid();if(b){var a=b.get_masterTableView();var l=a.get_tableFilterRow();var f=l.style.display!=""&&l.style.display!="none";if(f){var g=e.get_Channel();if(g.length>1||g==0||g==null||g==""){$("#ctl00_main_planInfo_gridPlanInfo_GridHeader .RadComboBox").hide()}else{$("#ctl00_main_planInfo_gridPlanInfo_GridHeader .RadComboBox").show()}}if(g.length==1&&$.inArray(0,g)>-1){g=null}if(g&&g.length>1){$setGridFilter(b,"Section_ID",g.join(","),"Custom","System.Int32")}else{$setGridFilter(b,"Section_ID",g,"EqualTo","System.Int32")}$setGridFilter(b,"Plan_State",i);if(g&&g.length==1&&$.inArray(11,g)==-1){$clearGridFilter(a,"VISN")}if(e.get_TrackingEnabled()){a.clearSelectedItems()}a.rebind()}}else{e.set_Channel(d)}}this._resetChannel=false},_channelChanged:function(b,a){this._refreshPlanInfoGrid(b)},_getPlanInfoGridTitle:function(a){return"<a class='advToggle' onClick='toggleArrow();' href='javascript:clientManager.togglePlanInfoGridFilters()'><img class='advToggleArw arwRt' src='"+a+"/content/images/spacer.gif' /><img class='advToggleArw arwDw' src='"+a+"/content/images/spacer.gif' />Search</a>&nbsp;<span id='resetPlans' class='ml10' style='display:none;cursor:pointer;vertical-align:middle;' onclick='clientManager.resetPlans()'>Reset</span>"},configureDashboardTiles:function(b){$("#divTile2Container .title").html(this._getPlanInfoGridTitle(b.get_BasePath()));$("#divTile2Container .pagination").show();$("#tile1 .enlarge").show();$(".tile2Div").hide();$("#divTile2Plans").show();var a=$.grep(b.getModuleOptionsByApp(this.get_ApplicationID()),function(d,c){return d.ID=="contacts"});if(a&&a.length>0){$("#contactSearchOpt").show()}$(".myAccts").show();Pathfinder.UI.TodaysAccountsApplication.callBaseMethod(this,"configureDashboardTiles",[b]);$(".todaysAccounts2, .todaysAccounts1, #tile2").removeAttr("style");$("#tile2").height(getTile1Height())},resetDashboardTiles:function(a){$("#contactSearchOpt").hide();$(".myAccts").hide();if(!$.browser.msie){$("#divTile1 object").remove()}$("#tileMin2").attr({id:"tile2"})},configureModuleMenu:function(d,l,j){var e=this.get_ModuleMenu();Pathfinder.UI.TodaysAccountsApplication.callBaseMethod(this,"configureModuleMenu",[d,l,j]);$(".navbar2").show();var a;var g=d.getModuleOptionsByApp(this.get_ApplicationID());
var f;for(var h=0;h<g.length;h++){if($.isArray(l)){for(var m=0;m<l.length;m++){f=g[h];var b=l[m];if(f.ID!="map"){if(f.Channels[b]==1){e.addItem("link_"+f.ID,f.Name,f.ID)}}else{a=f.Channels[b]==1}}}else{f=g[h];if(f.ID!="map"){if(f.Channels[l]==1){e.addItem("link_"+f.ID,f.Name,f.ID)}}else{a=f.Channels[l]==1}}}var n=e.getItemAt(0);if(n){this._defaultModule=n.value}if(a){l=d.get_Channel();if(l.length==1){l=l.toString();if(l==0||l==1||l==4||l==6||l==9||l==11||l==17||l==20||l==99){$("#expandTile1 a").attr("disabled",false);maxTile1()}else{$("#expandTile1 a").attr("disabled",true);minTile1()}}else{var k=0;if($.inArray(0,l)>-1){k++}if($.inArray(1,l)>-1){k++}if($.inArray(6,l)>-1){k++}if($.inArray(9,l)>-1){k++}if($.inArray(11,l)>-1){k++}if($.inArray(17,l)>-1){k++}if($.inArray(20,l)>-1){k++}if($.inArray(99,l)>-1){k++}if(k>0){$("#expandTile1 a").attr("disabled",false);maxTile1()}else{$("#expandTile1 a").attr("disabled",true);minTile1()}}}else{$("#expandTile1 a").attr("disabled",true);minTile1()}if(e.getItem("link_"+j)!=null){e.highlightItem("link_"+j);return j}else{var o=e.getItemAt(0);if(o){e.highlightItem(o.id);return o.value}}}};Pathfinder.UI.TodaysAccountsApplication.registerClass("Pathfinder.UI.TodaysAccountsApplication",Pathfinder.UI.Application);Pathfinder.UI.MarketplaceAnalyticsApplication=function(a){Pathfinder.UI.MarketplaceAnalyticsApplication.initializeBase(this,[a]);this._timeFrameLoadedDelegate=null;this._toolbarLoadedDelegate=null};Pathfinder.UI.MarketplaceAnalyticsApplication.prototype={get_Title:function(){return"Report Type"},get_UrlName:function(){return"marketplaceanalytics"},getUrl:function(b,e,a,c,d){b="all";return Pathfinder.UI.MarketplaceAnalyticsApplication.callBaseMethod(this,"getUrl",[b,e,a,c,d])},get_OptionsServiceUrl:function(a){return this.get_ServiceUrl()+"/GetModuleOptions"},getDefaultModule:function(a){return"trending"},get_ModuleOptionsUrl:function(a){if(a.get_Module()){return this.getUrl("all",null,a.get_Module()+"_filters.aspx",false)}else{return null}},activate:function(a){if(a){a.get_ChannelMenu().set_visible(false)}if(!this._moduleChangingDelegate){this._moduleChangingDelegate=Function.createDelegate(this,this._moduleChanging);a.add_moduleChanging(this._moduleChangingDelegate)}this._timeFrameLoadedDelegate=Function.createDelegate(this,this._onTimeFrameLoaded);this._toolbarLoadedDelegate=Function.createDelegate(this,this._onToolbarLoaded);a.add_pageLoaded(this._timeFrameLoadedDelegate,"timeframeArea");a.add_pageLoaded(this._toolbarLoadedDelegate,"toolbarArea");Pathfinder.UI.MarketplaceAnalyticsApplication.callBaseMethod(this,"activate",[a])},deactivate:function(a){Pathfinder.UI.MarketplaceAnalyticsApplication.callBaseMethod(this,"deactivate",[a]);a.remove_pageLoaded(this._timeFrameLoadedDelegate,"timeframeArea");a.remove_pageLoaded(this._toolbarLoadedDelegate,"toolbarArea");delete (this._timeFrameLoadedDelegate);delete (this._toolbarLoadedDelegate)},getDefaultData:function(a){if(a.get_Module()!="geographiccoverage"){return Pathfinder.UI.MarketplaceAnalyticsApplication.callBaseMethod(this,"getDefaultData",[a])}var b=a.get_SelectionData();if(!b){b={}}b.Section_ID=new Pathfinder.UI.dataParam("Section_ID",a.get_Channel(),"System.Int32","EqualTo");return b},onModuleChanging:function(a,b){if(a.get_UIReady()){a.clearSelectionData(true)}},_moduleChanging:function(b,a){this.onModuleChanging(b,a.get_Value())},_onToolbarLoaded:function(b,a){$("#toolbarArea").css("visibility","hidden").css("visibility","")},_onTimeFrameLoaded:function(c,b){if(clientManager.get_Module()=="formularyhistoryreporting"){$(".navbar2").hide()}else{$(".navbar2").show();var d=clientManager.get_SelectionData();var a;if(d){a=d.Calendar_Rolling}if(a){if(typeof a=="object"){a=a.value}}if((typeof(a)!="undefined")){if(a=="Calendar"){$("#ctl00_partialPage_filtersContainer_CalendarRolling_Calendar_Rolling_0").attr("checked","checked");showCalendar()}else{$("#ctl00_partialPage_filtersContainer_CalendarRolling_Calendar_Rolling_1").attr("checked","checked");showRolling()}}else{$("#ctl00_partialPage_filtersContainer_CalendarRolling_Calendar_Rolling_0").attr("checked","checked")}}this.resizeSection()},configureDashboardTiles:function(a){this.onModuleChanging(a,a._module);$("<div />").appendTo(".navbar2").attr("id","timeframeArea");$(".navbar .clearAll").before("<div id='toolbarArea' />");a.loadPage(this.getUrl("all","all","toolbar.aspx"),"toolbarArea");Pathfinder.UI.MarketplaceAnalyticsApplication.callBaseMethod(this,"configureDashboardTiles",[a]);$(".navbar2").show().css({"margin-left":"208px"})},resetDashboardTiles:function(a){$("#timeframeArea").remove();$("#toolbarArea").remove();$(".navbar2").hide().css({"margin-left":""});$(".todaysAccounts1").show();Pathfinder.UI.MarketplaceAnalyticsApplication.callBaseMethod(this,"resetDashboardTiles",[a])},collapseSidePanel:function(){$(".navbar2").animate({"margin-left":"34px"},animationSpeed);minTile2(function(){$("#tile3SR").attr({id:"tile3"});$("#tile4SR").attr({id:"tile4"});$("#tile5SR").attr({id:"tile5"});todaysanalytics_section_resize();if(ie6){$("#divYearContainer, #divQuarterContainer, #divMonthContainer, #divRollingContainer").css("visibility","hidden").css("visibility","")}})},expandSidePanel:function(){$(".navbar2").animate({"margin-left":"208px"},animationSpeed);maxTile2(function(){todaysanalytics_section_resize();if(ie6){$("#divYearContainer, #divQuarterContainer, #divMonthContainer, #divRollingContainer").css("visibility","hidden").css("visibility","")}})},resize:function(){todaysanalytics_content_resize();Pathfinder.UI.MarketplaceAnalyticsApplication.callBaseMethod(this,"resize")},resizeSection:todaysanalytics_section_resize};Pathfinder.UI.MarketplaceAnalyticsApplication.registerClass("Pathfinder.UI.MarketplaceAnalyticsApplication",Pathfinder.UI.BasicApplication);Pathfinder.UI.StandardReportsApplication=function(a){Pathfinder.UI.StandardReportsApplication.initializeBase(this,[a]);this._menuVisible=true;this._mapCommandDelegate=null;this._channelOrModuleChangingDelegate=null;this._filtersLoadedDelegate=null;this._restoredData=null};Pathfinder.UI.StandardReportsApplication.prototype={get_Title:function(){return""},get_SubHeaderTitle:function(){return""},get_UrlName:function(){return"standardreports"},getUrl:function(b,e,a,c,d){if(e=="coveredlives"){b="all";c=true}return Pathfinder.UI.StandardReportsApplication.callBaseMethod(this,"getUrl",[b,e,a,c,d])},getDefaultModule:function(a){return"formularycoverage"},get_ModuleOptionsUrl:function(a){if(a.get_Module()=="formularydrilldown"||a.get_Module()=="livesdistribution"||a.get_Module()=="formularystatus"||a.get_Module()=="tiercoveragecomparison"||a.get_Module()=="geographiccoverage"||a.get_Module()=="formularycoverage"){return this.getUrl(a.get_ChannelUrlName(),a.get_Module(),a.get_Module()+"_filters.aspx",false)}else{if(a.get_Module()!="coveredlives"){return this.getUrl("all",null,"filters.aspx",false)}else{return null}}},activate:function(a){$("#ctl00_main_subheader1_channelMenu").hide();if(!this._mapCommandDelegate){this._mapCommandDelegate=Function.createDelegate(this,this._mapCommand);a.add_mapUpdating(this._mapCommandDelegate)}if(!this._channelChangingDelegate){this._channelOrModuleChangingDelegate=Function.createDelegate(this,this._channelOrModuleChanging);a.add_channelChanging(this._channelOrModuleChangingDelegate);a.add_moduleChanging(this._channelOrModuleChangingDelegate)}if(!this._filtersLoadedDelegate){this._filtersLoadedDelegate=Function.createDelegate(this,this._filtersLoaded);a.add_pageLoaded(this._filtersLoadedDelegate,"moduleOptionsContainer")}$(a.get_ChannelMenu().get_element()).remove().appendTo("#channelSelectorContainer");if(a){a.get_ChannelMenu().set_visible(false)}a.set_EffectiveChannel(0);Pathfinder.UI.StandardReportsApplication.callBaseMethod(this,"activate",[a])},deactivate:function(a){Pathfinder.UI.StandardReportsApplication.callBaseMethod(this,"deactivate",[a]);$(a.get_ChannelMenu().get_element()).remove().appendTo(".viewSelect");a.remove_mapUpdating(this._mapCommandDelegate);a.remove_channelChanging(this._channelOrModuleChangingDelegate);a.remove_moduleChanging(this._channelOrModuleChangingDelegate);a.remove_pageLoaded(this._filtersLoadedDelegate,"moduleOptionsContainer");delete (this._mapCommandDelegate);delete (this._channelOrModuleChangingDelegate);delete (this._filtersLoadedDelegate)},canFilterByRegion:function(a){return(a.get_Module()=="geographiccoverage")},getDefaultData:function(a){return Pathfinder.UI.StandardReportsApplication.callBaseMethod(this,"getDefaultData",[a]);var b=a.get_SelectionData();if(!b){b={}}b.Section_ID=new Pathfinder.UI.dataParam("Section_ID",a.get_Channel(),"System.Int32","EqualTo");return b},_channelOrModuleChanging:function(b,a){this._restoredData=$getContainerData("moduleOptionsContainer",false,false,true,true)},_filtersLoaded:function(b,a){if(this._restoredData){$reloadContainer("moduleOptionsContainer",this._restoredData);delete (this._restoredData)}},_mapCommand:function(b,a){a.set_cancel(true)},collapseSidePanel:function(){minTile2()},expandSidePanel:function(){maxTile2();if(clientManager){clientManager.get_ChannelMenu().set_visible(false)}},resize:function(){standardreports_content_resize();Pathfinder.UI.StandardReportsApplication.callBaseMethod(this,"resize")},resizeSection:standardreports_section_resize};Pathfinder.UI.StandardReportsApplication.registerClass("Pathfinder.UI.StandardReportsApplication",Pathfinder.UI.BasicApplication);Pathfinder.UI.FormularySellSheetsApplication=function(a){Pathfinder.UI.FormularySellSheetsApplication.initializeBase(this,[a]);this._onSaveCallbackDelegate=null;this._onCreateCallbackDelegate=null;this._onTemplateUpdateCallbackDelegate=null};Pathfinder.UI.FormularySellSheetsApplication.prototype={dispose:function(){this._deleteObjects();Pathfinder.UI.FormularySellSheetsApplication.callBaseMethod(this,"dispose")},_deleteObjects:function(){delete (this._onCreateCallbackDelegate);delete (this._onNewOrderCallbackDelegate);delete (this._onSaveCallbackDelegate);
delete (this._channelChangedDelegate);delete (this._moduleChangingDelegate);delete (this._onTemplateUpdateCallbackDelegate)},activate:function(a){this._onCreateCallbackDelegate=Function.createDelegate(this,this._onCreateCallback);this._onNewOrderCallbackDelegate=Function.createDelegate(this,this._onNewOrderCallback);this._onTemplateUpdateCallbackDelegate=Function.createDelegate(this,this._onTemplateUpdateCallback);if(!this._onSaveCallbackDelegate){this._onSaveCallbackDelegate=Function.createDelegate(this,this._onSaveCallback);a.add_formSubmitted(this._onSaveCallbackDelegate)}if(!this._channelChangedDelegate){this._channelChangedDelegate=Function.createDelegate(this,this._channelChanged);a.add_channelChanged(this._channelChangedDelegate)}if(!this._moduleChangingDelegate){this._moduleChangingDelegate=Function.createDelegate(this,this._moduleChanging);a.add_moduleChanging(this._moduleChangingDelegate)}if(a){a.get_ChannelMenu().set_visible(false)}Pathfinder.UI.FormularySellSheetsApplication.callBaseMethod(this,"activate",[a])},deactivate:function(a){Pathfinder.UI.FormularySellSheetsApplication.callBaseMethod(this,"deactivate",[a]);a.remove_channelChanged(this._channelChangedDelegate);a.remove_moduleChanging(this._moduleChangingDelegate);a.remove_formSubmitted(this._onSaveCallbackDelegate);this._deleteObjects()},get_UrlName:function(){return"custom/"+this.get_clientKey()+"/sellsheets"},get_Title:function(){return"Formulary Sell Sheets"},get_ModuleMenu:function(){return null},resize:function(){formularysellsheets_content_resize();Pathfinder.UI.FormularySellSheetsApplication.callBaseMethod(this,"resize")},resizeSection:formularysellsheets_section_resize,getDefaultModule:function(a){return"mysellsheets"},configureDashboardTiles:function(a){$("<div />").appendTo("#mainSection .contentArea").hide().attr("id","customInfoArea");a.loadPage(this.getUrl("all","all","SellSheetCarousel.aspx"),"customInfoArea");$("#section2").addClass("defaultPage");$(".todaysAccounts1").hide();Pathfinder.UI.FormularySellSheetsApplication.callBaseMethod(this,"configureDashboardTiles",[a])},resetDashboardTiles:function(a){var c=this.get_ModuleMenu();if(c){c.dispose()}a.unloadPage("customInfoArea");$("#customInfoArea").remove();$(".todaysAccounts1").show();$("#mycarousel li").unbind();var b=this.get_carousel();if(b){this.set_carousel(null)}Pathfinder.UI.FormularySellSheetsApplication.callBaseMethod(this,"resetDashboardTiles",[a])},get_carousel:function(){return this._carousel},set_carousel:function(a){this._carousel=a},_channelChanged:function(b,a){this.onModuleChanging(b,b.get_Module())},onModuleChanging:function(a,b){if(b==this.getDefaultModule(a)){a.clearSelectionData(true);$("#section2").addClass("defaultPage");$("#ssStepBodyContainer").hide();if($("#customInfoArea").css("display")!="none"){$("#customInfoArea").animate({width:0},animationSpeed,function(){$("#customInfoArea").hide()})}$(".sellsheets #section2").animate({marginLeft:0},animationSpeed,function(){$(".sellsheets #section2").css("margin-left","")})}else{$("#section2").removeClass("defaultPage");if($("#customInfoArea").css("display")!="block"){$(".createNewSellSheet").hide();$(".sellsheetLeft").hide();$(".sellsheetRight").hide();var c=a.get_UIReady()?"animate":"css";$("#section2")[c]({marginLeft:185},animationSpeed);$("#customInfoArea").css("width",0).show()[c]({width:180},animationSpeed)}}},_moduleChanging:function(b,a){this.onModuleChanging(b,a.get_Value())},_onSaveCallback:function(b,a){if(a.result.Success){clientManager.setContextValue("ssSelectedPlansList");this.next(b)}else{}},_setNext:function(e,f){var b=e.get_Module();var c;var a=$(".sellSheetSteps .selectedStep");if(a.length>0){var d=parseInt(a.attr("stepOrder"),10)+f;c=$(".sellSheetSteps a[stepOrder="+d+"]").attr("stepKey")}if(!c){c=this.getDefaultModule(e)}e.set_Module(c)},next:function(a){this._setNext(a,1)},back:function(a){this._setNext(a,-1)},createSellSheet:function(){clientManager.setContextValue("ssSelectedPlansList");var a=new Date();a="'"+encodeURIComponent(a.localeFormat("d")+" "+a.localeFormat("t"))+"'";$.getJSON(this.get_ServiceUrl()+"/CreateSellSheet?Created="+a,null,this._onCreateCallbackDelegate)},_onCreateCallback:function(a){if(a&&a.d&&a.d.CreateSellSheet){clientManager.set_SelectionData({Sell_Sheet_ID:a.d.CreateSellSheet},"classandtemplateselection")}},newSellSheetOrder:function(){var a=$getContainerData("NewOrder",null,true);if($validateFormData("NewOrder",a,"New Sell Sheet Order")){a=$getDataForPostback(a);$.post(this.get_ServiceUrl()+"/NewSellSheetOrder",a,this._onNewOrderCallbackDelegate,"json")}},_onNewOrderCallback:function(c){if(c&&c.d&&c.d.NewSellSheetOrder){var b=$find("ctl00_Tile3_SellSheetOrderList1_gridSellSheetOrders").get_masterTableView();b.rebind();$resetContainer("NewOrder");var e=$get("ctl00_Tile3_NewSellSheetOrder1_rdcmbState").control;e.findItemByText("[Select a State]").select();var a=$find("ctl00_Tile3_CompletedSellSheets1_gridCompletedSellSheets");var d=a.get_masterTableView().get_selectedItems()[0]._dataItem.Sell_Sheet_ID;$("#SelectedSheetID").val(d);$alert("New Order generated successfully.","New Order");new cmd(null,$hideAlert,null,4000)}else{$alert("Error while generating New Order.","New Order")}},updateTemplateID:function(a,b){$.post(this.get_ServiceUrl()+"/UpdateSellSheetTemplate",{tempID:a,sellSheetID:b},this._onTemplateUpdateCallbackDelegate,"json")},_onTemplateUpdateCallback:function(a){if(a&&a.d&&a.d.UpdateSellSheetTemplate){var b=$("#sidebarStepOrder").text();if(b==7){clientManager.set_SelectionData(clientManager.get_SelectionData())}}}};Pathfinder.UI.FormularySellSheetsApplication.registerClass("Pathfinder.UI.FormularySellSheetsApplication",Pathfinder.UI.Application);Pathfinder.UI.CustomerContactReportsApplication=function(a){Pathfinder.UI.CustomerContactReportsApplication.initializeBase(this,[a])};Pathfinder.UI.CustomerContactReportsApplication.prototype={get_UrlName:function(){return"custom/"+this.get_clientKey()+"/customercontactreports"},get_Title:function(){return""},activate:function(a){if(a){a.get_ChannelMenu().set_visible(false)}a.set_EffectiveChannel(0);Pathfinder.UI.CustomerContactReportsApplication.callBaseMethod(this,"activate",[a])},getUrl:function(b,e,a,c,d){b="all";if(e=="customercontactreport"){c=true}return Pathfinder.UI.CustomerContactReportsApplication.callBaseMethod(this,"getUrl",[b,e,a,c,d])},get_OptionsServiceUrl:function(a){return this.get_ServiceUrl()+"/GetCCRModuleOptions"},getDefaultModule:function(a){return"customercontactreport"},get_ModuleOptionsUrl:function(a){if(a.get_Module()!="customercontactreport"){return this.getUrl("all",null,"filters.aspx",false)}else{return null}},_prepForAnimation:function(){if($(".ccrPlanSelectView .mini").length>0){$(".ccrPlanSelectView").width("60%");$(".ccrBusinessPlans").width("39%")}else{$(".ccrPlanSelectView").width("99.6%")}},collapseSidePanel:function(){this._prepForAnimation();minTile2(this.resizeSection)},expandSidePanel:function(){this._prepForAnimation();maxTile2(this.resizeSection)},resize:function(){var b=$(window);var d=b.height();var a=b.width();var e=safeSub(d,105);var c=$(".todaysAccounts2Expand").height();$("#fauxModal").css({width:a,height:d});$(" #tile2 ").css({width:"200px",top:"5px",left:"6px",position:"absolute",marginLeft:"0px"});if(c>0){$("#section2").css({marginLeft:"34px"},animationSpeed)}else{$("#section2").css({marginLeft:"208px"},animationSpeed)}$("#tile2, #tileMin2SR").css({height:e},animationSpeed);$("#expandTile2SR, #tileMin2").css({height:safeSub(d,112)},animationSpeed);$("#expandTile2SR").css({height:"100%"},animationSpeed);$("#tile2 .min").show();$("#tile2 .enlarge, #divTile2Plans").hide();reportFiltersResize();this.resizeSection();Pathfinder.UI.CustomerContactReportsApplication.callBaseMethod(this,"resize")},resizeSection:function(){var f=$(window);var c=f.height();var b=f.width();var g=c/topSRHeight;var d=$("#divTile4 thead tr");var i=20;if($get("tile2")){if(!$get("tile4")){$(".section2SR .enlarge").show()}else{$(".srBottom .enlarge").show();$("#tile3 .enlarge, #tile3SR .enlarge, #divTile3Container .enlarge").hide()}}$("#maxTChart .enlarge, #maxSRMap .enlarge, #maxTBtm .enlarge, #maxChart .enlarge, #maxSRTile4 .enlarge, #maxSRTile5 .enlarge").hide();if(d.length>0){i=Sys.UI.DomElement.getBounds(d[0]).height}var a;if(!$get("tile4")&&!$get("tile4SR")&&!$get("maxSRTile4")){a=c-131}else{a=c*0.4}if(ie6){$("#tile3 #divTile3Container ").css({height:a})}$("#tile4 #divTile4, #tile5 #divTile5, #tile4SR #divTile4, #tile5SR #divTile5 ").css({height:safeSub((c-a),164)});$("#tile3 #divTile3, #tile3SR #divTile3").css({height:a,textAlign:"center",width:"auto",overflow:"hidden"});if($get("ctl00_Tile3_cdrilldowndata_gridCR")){$("#ctl00_Tile3_cdrilldowndata_gridCR_GridData").height(a-$("#ctl00_Tile3_cdrilldowndata_gridCR_GridHeader").height());$("#tile3 #divTile3 #ctl00_Tile3_cdrilldowndata_gridCR").height(a)}var h=safeSub(b,($get("divTile3")?Sys.UI.DomElement.getBounds($get("divTile3")).x+16:0));$(".ccrMeetings .dashboardTable .rgDataDiv").css({height:safeSub((a-i),220)});if($(".ccrPlanSelectView .mini").length>0){$(".ccrPlanSelectView .dashboardTable .rgDataDiv").height(115);if(h>0){var e=Math.round(h*0.6);if(ie6){$(".ccrPlanSelectView").height(190).width(e+6)}if(chrome||!flashSupported){$(".ccrPlanSelectView").height(190).width(e-5)}else{$(".ccrPlanSelectView").height(190).width(e)}$(".ccrBusinessPlans").width(h-e-5)}$(".ccrBusinessPlans, .ccrMeetings").show()}else{$(".ccrBusinessPlans, .ccrMeetings").hide();if(h>0){$(".ccrPlanSelectView").height(safeSub(a,4)).width(h)}else{$(".ccrPlanSelectView").height(safeSub(a,4)).width($("#divTile3").width())}$(".ccrPlanSelectView .dashboardTable .rgDataDiv").height(safeSub((a-i),57))}$("#divTile4 .rgDataDiv").height(safeSub($("#divTile4").height(),$("#divTile4 .rgHeaderDiv").height()));$("#divTile5 .rgDataDiv").height(safeSub($("#divTile5").height(),$("#divTile5 .rgHeaderDiv").height()));$("#tile3").removeClass("leftTile");$(".todaysAccounts1").css({padding:"0px",position:"relative"});
resetGridHeadersX(500)}};Pathfinder.UI.CustomerContactReportsApplication.registerClass("Pathfinder.UI.CustomerContactReportsApplication",Pathfinder.UI.BasicApplication);Pathfinder.UI.PowerPlanRxApplication=function(a){Pathfinder.UI.PowerPlanRxApplication.initializeBase(this,[a])};Pathfinder.UI.PowerPlanRxApplication.prototype={get_UrlName:function(){return"powerplanrx"},get_Title:function(){return"Power Plan Rx"},activate:function(a){a._application=1;window.location.href="powerplanrx/all/home.aspx"},resize:function(){powerplanrx_content_resize();Pathfinder.UI.PowerPlanRxApplication.callBaseMethod(this,"resize")},resizeSection:powerplanrx_section_resize,configureChannelMenu:function(a){if(a){a.get_ChannelMenu().set_visible(false)}},configureModuleMenu:function(c,b,a){a=Pathfinder.UI.PowerPlanRxApplication.callBaseMethod(this,"configureModuleMenu",[c,b,a]);var d=this.get_ModuleMenu();d.addItem("opportunities","Opportunities","opportunities")}};Pathfinder.UI.PowerPlanRxApplication.registerClass("Pathfinder.UI.PowerPlanRxApplication",Pathfinder.UI.BasicApplication);Pathfinder.UI.AccessBasedSellingApplication=function(a){Pathfinder.UI.AccessBasedSellingApplication.initializeBase(this,[a])};Pathfinder.UI.AccessBasedSellingApplication.prototype={get_UrlName:function(){return"accessbasedselling"},resize:function(){accessbasedselling_content_resize();Pathfinder.UI.AccessBasedSellingApplication.callBaseMethod(this,"resize")},resizeSection:accessbasedselling_section_resize,configureDashboardTiles:function(a){if(a){a.get_ChannelMenu().set_visible(false)}$("#divTile2Container .title").html("");$("#divTile2Container .pagination").hide();$(".tile2Div").hide();$("#trainingOpt").show();var c=a.get_UserGeography();var b;$("#fmASEngine").hide();b=$get("absMap");if(b){$(b).show()}else{b=document.createElement("DIV");b.id="absMap";b.style.overflow="hidden";b.innerHTML="<img src='"+a.get_BasePath()+"/content/imagesabs/map/"+(c&&c.RegionID?c.RegionID:"208")+".png' />";$get("divTile1").appendChild(b)}b=$get("absTerrs");if(b){$(b).show()}else{b=document.createElement("DIV");b.id="absTerrs";b.className="tile2Div";$get("divTile2").appendChild(b);a.loadPage(this.getUrl(null,null,"terrgrid.aspx?k="+a.get_UserKey()),"absTerrs")}maxTile1();Pathfinder.UI.AccessBasedSellingApplication.callBaseMethod(this,"configureDashboardTiles",[a])},resetDashboardTiles:function(a){$("#absMap").hide();$("#absTerrs").hide();$("#fmASEngine").show();$("#trainingOpt").hide()}};Pathfinder.UI.AccessBasedSellingApplication.registerClass("Pathfinder.UI.AccessBasedSellingApplication",Pathfinder.UI.Application);Pathfinder.UI.FormularyHistoryReportingApplication=function(a){Pathfinder.UI.FormularyHistoryReportingApplication.initializeBase(this,[a]);this._menuVisible=true};Pathfinder.UI.FormularyHistoryReportingApplication.prototype={get_UrlName:function(){return"custom/"+this.get_clientKey()+"/formularyhistoryreporting"},get_Title:function(){return"Report Selection"},getUrl:function(b,e,a,c,d){b="all";return Pathfinder.UI.FormularyHistoryReportingApplication.callBaseMethod(this,"getUrl",[b,e,a,c,d])},get_OptionsServiceUrl:function(a){return this.get_ServiceUrl()+"/GetFormularyHistoryReportingModuleOptions"},getDefaultModule:function(a){return"coFormularyHxComparison"},get_ModuleOptionsUrl:function(a){if(a){a.get_ChannelMenu().set_visible(false)}return this.getUrl("all",null,a.get_Module()+"_filters.aspx",false)},collapseSidePanel:function(){minTile2()},expandSidePanel:function(){maxTile2()},resize:function(){fhr_content_resize();Pathfinder.UI.FormularyHistoryReportingApplication.callBaseMethod(this,"resize")},resizeSection:fhr_section_resize};Pathfinder.UI.FormularyHistoryReportingApplication.registerClass("Pathfinder.UI.FormularyHistoryReportingApplication",Pathfinder.UI.BasicApplication);Pathfinder.UI.PrescriberReportingApplication=function(a){Pathfinder.UI.PrescriberReportingApplication.initializeBase(this,[a]);this._timeFrameLoadedDelegate=null;this._toolbarLoadedDelegate=null};Pathfinder.UI.PrescriberReportingApplication.prototype={get_Title:function(){return"Report Type"},get_UrlName:function(){return"prescriberreporting"},getUrl:function(b,e,a,c,d){b="all";return Pathfinder.UI.PrescriberReportingApplication.callBaseMethod(this,"getUrl",[b,e,a,c,d])},get_OptionsServiceUrl:function(a){return this.get_UrlName()+"/services/prescriberreportingdataservice.svc/GetPrescriberModuleOptions"},getDefaultModule:function(a){return"prescribertrending"},get_ModuleOptionsUrl:function(a){if(a.get_Module()){return this.getUrl("all",null,a.get_Module()+"_filters.aspx",false)}else{return null}},activate:function(a){if(!this._moduleChangingDelegate){this._moduleChangingDelegate=Function.createDelegate(this,this._moduleChanging);a.add_moduleChanging(this._moduleChangingDelegate)}$(a.get_ChannelMenu().get_element()).remove().appendTo("#channelSelectorContainer");this._timeFrameLoadedDelegate=Function.createDelegate(this,this._onTimeFrameLoaded);this._toolbarLoadedDelegate=Function.createDelegate(this,this._onToolbarLoaded);a.add_pageLoaded(this._timeFrameLoadedDelegate,"timeframeArea");a.add_pageLoaded(this._toolbarLoadedDelegate,"toolbarArea");if(a){a.get_ChannelMenu().set_visible(false)}Pathfinder.UI.PrescriberReportingApplication.callBaseMethod(this,"activate",[a])},deactivate:function(a){Pathfinder.UI.PrescriberReportingApplication.callBaseMethod(this,"deactivate",[a]);$(a.get_ChannelMenu().get_element()).remove().appendTo(".viewSelect");a.remove_pageLoaded(this._timeFrameLoadedDelegate,"timeframeArea");a.remove_pageLoaded(this._toolbarLoadedDelegate,"toolbarArea");delete (this._timeFrameLoadedDelegate);delete (this._toolbarLoadedDelegate)},getDefaultData:function(a){return Pathfinder.UI.PrescriberReportingApplication.callBaseMethod(this,"getDefaultData",[a])},onModuleChanging:function(a,b){if(a.get_UIReady()){a.clearSelectionData(true)}},_moduleChanging:function(b,a){this.onModuleChanging(b,a.get_Value())},_onToolbarLoaded:function(b,a){$("#toolbarArea").css("visibility","hidden").css("visibility","")},_onTimeFrameLoaded:function(c,b){$(".navbar2").show();var d=clientManager.get_SelectionData();var a;if(d){a=d.Calendar_Rolling}if(a){if(typeof a=="object"){a=a.value}}if((typeof(a)!="undefined")){if(a=="Calendar"){$("#ctl00_partialPage_filtersContainer_CalendarRolling_Calendar_Rolling_0").attr("checked","checked");showCalendar()}else{$("#ctl00_partialPage_filtersContainer_CalendarRolling_Calendar_Rolling_1").attr("checked","checked");showRolling()}}else{$("#ctl00_partialPage_filtersContainer_CalendarRolling_Calendar_Rolling_0").attr("checked","checked")}this.resizeSection()},configureDashboardTiles:function(a){this.onModuleChanging(a,a._module);$("<div />").appendTo(".navbar2").attr("id","timeframeArea");$(".navbar .clearAll").before("<div id='toolbarArea' />");a.loadPage(this.getUrl("all","all","toolbar.aspx"),"toolbarArea");Pathfinder.UI.PrescriberReportingApplication.callBaseMethod(this,"configureDashboardTiles",[a]);$(".navbar2").show().css({"margin-left":"208px"})},resetDashboardTiles:function(a){$("#timeframeArea").remove();$("#toolbarArea").remove();$(".navbar2").hide().css({"margin-left":""});$(".todaysAccounts1").show();Pathfinder.UI.PrescriberReportingApplication.callBaseMethod(this,"resetDashboardTiles",[a])},collapseSidePanel:function(){$(".navbar2").animate({"margin-left":"34px"},animationSpeed);minTile2(function(){$("#tile3SR").attr({id:"tile3"});$("#tile4SR").attr({id:"tile4"});$("#tile5SR").attr({id:"tile5"});todaysanalytics_section_resize();if(ie6){$("#divYearContainer, #divQuarterContainer, #divMonthContainer, #divRollingContainer").css("visibility","hidden").css("visibility","")}})},expandSidePanel:function(){$(".navbar2").animate({"margin-left":"208px"},animationSpeed);maxTile2(function(){todaysanalytics_section_resize();if(ie6){$("#divYearContainer, #divQuarterContainer, #divMonthContainer, #divRollingContainer").css("visibility","hidden").css("visibility","")}})},resize:function(){todaysanalytics_content_resize();Pathfinder.UI.PrescriberReportingApplication.callBaseMethod(this,"resize")},resizeSection:todaysanalytics_section_resize};Pathfinder.UI.PrescriberReportingApplication.registerClass("Pathfinder.UI.PrescriberReportingApplication",Pathfinder.UI.BasicApplication);Pathfinder.UI.ActivityReportingApplication=function(a){Pathfinder.UI.ActivityReportingApplication.initializeBase(this,[a])};Pathfinder.UI.ActivityReportingApplication.prototype={dispose:function(){this._deleteObjects();Pathfinder.UI.ActivityReportingApplication.callBaseMethod(this,"dispose")},_deleteObjects:function(){delete (this._onSaveCallbackDelegate)},activate:function(a){if(!this._onSaveCallbackDelegate){this._onSaveCallbackDelegate=Function.createDelegate(this,this._onSaveCallback);a.add_formSubmitted(this._onSaveCallbackDelegate)}if(a){a.get_ChannelMenu().set_visible(false)}Pathfinder.UI.ActivityReportingApplication.callBaseMethod(this,"activate",[a])},deactivate:function(a){Pathfinder.UI.ActivityReportingApplication.callBaseMethod(this,"deactivate",[a]);a.remove_formSubmitted(this._onSaveCallbackDelegate);this._deleteObjects()},get_UrlName:function(){return"custom/"+this.get_clientKey()+"/activityreporting"},get_Title:function(){return""},getUrl:function(b,e,a,c,d){b="all";if(e=="activityentry"){c=true}return Pathfinder.UI.ActivityReportingApplication.callBaseMethod(this,"getUrl",[b,e,a,c,d])},get_OptionsServiceUrl:function(a){return this.get_ServiceUrl()+"/GetActivityReportingModuleOptions"},getDefaultModule:function(a){return"activityentry"},get_ModuleOptionsUrl:function(a){if(a.get_Module()!="activityentry"){return this.getUrl("all",null,a.get_Module()+"_filters.aspx",false)}else{return null}},_onSaveCallback:function(b,a){if(a.result.Success){showGrid(null);$alert("Activity Details have been successfully submitted.","Activity Entry")}else{}},_prepForAnimation:function(){if($(".ccrPlanSelectView .mini").length>0){$(".ccrPlanSelectView").width("60%");$(".ccrBusinessPlans").width("39%")
}else{$(".ccrPlanSelectView").width("99.6%")}},collapseSidePanel:function(){this._prepForAnimation();minTile2(this.resizeSection)},expandSidePanel:function(){this._prepForAnimation();maxTile2(this.resizeSection)},resize:function(){var b=$(window);var d=b.height();var a=b.width();var e=safeSub(d,105);var c=$(".todaysAccounts2Expand").height();$("#fauxModal").css({width:a,height:d});$(" #tile2 ").css({width:"200px",top:"5px",left:"6px",position:"absolute",marginLeft:"0px"});if(c>0){$("#section2").css({marginLeft:"34px"},animationSpeed)}else{$("#section2").css({marginLeft:"208px"},animationSpeed)}$("#tile2, #tileMin2SR").css({height:e},animationSpeed);$("#expandTile2SR, #tileMin2").css({height:safeSub(d,112)},animationSpeed);$("#expandTile2SR").css({height:"100%"},animationSpeed);$("#tile2 .min").show();$("#tile2 .enlarge, #divTile2Plans").hide();reportFiltersResize();this.resizeSection();Pathfinder.UI.ActivityReportingApplication.callBaseMethod(this,"resize")},resizeSection:function(){var f=$(window);var c=f.height();var b=f.width();var g=c/topSRHeight;var d=$("#divTile4 thead tr");var i=20;if($get("tile2")){if(!$get("tile4")){$(".section2SR .enlarge").show()}else{$(".srBottom .enlarge").show();$("#tile3 .enlarge, #tile3SR .enlarge, #divTile3Container .enlarge").hide()}}$("#maxTChart .enlarge, #maxSRMap .enlarge, #maxTBtm .enlarge, #maxChart .enlarge, #maxSRTile4 .enlarge, #maxSRTile5 .enlarge").hide();if(d.length>0){i=Sys.UI.DomElement.getBounds(d[0]).height}var a;if(!$get("tile4")&&!$get("tile4SR")&&!$get("maxSRTile4")){a=c-131}else{a=c*0.4}if(ie6){$("#tile3 #divTile3Container ").css({height:a})}$("#tile4 #divTile4, #tile5 #divTile5, #tile4SR #divTile4, #tile5SR #divTile5 ").css({height:safeSub((c-a),164)});$("#tile3 #divTile3, #tile3SR #divTile3").css({height:a,textAlign:"center",width:"auto",overflow:"hidden"});if($get("ctl00_Tile3_adrilldowndata_gridDrillDown")){$("#ctl00_Tile3_adrilldowndata_gridDrillDown_GridData").height(a-$("#ctl00_Tile3_adrilldowndata_gridDrillDown_GridHeader").height());$("#tile3 #divTile3 #ctl00_Tile3_adrilldowndata_gridDrillDown").height(a)}var h=safeSub(b,($get("divTile3")?Sys.UI.DomElement.getBounds($get("divTile3")).x+16:0));$(".ccrMeetings .dashboardTable .rgDataDiv").css({height:safeSub((a-i),220)});if($(".ccrPlanSelectView .mini").length>0){$(".ccrPlanSelectView .dashboardTable .rgDataDiv").height(115);if(h>0){var e=Math.round(h*0.6);if(ie6){$(".ccrPlanSelectView").height(190).width(e+6)}if(chrome||!flashSupported){$(".ccrPlanSelectView").height(190).width(e-5)}else{$(".ccrPlanSelectView").height(190).width(e)}$(".ccrBusinessPlans").width(h-e-5)}$(".ccrBusinessPlans, .ccrMeetings").show()}else{$(".ccrBusinessPlans, .ccrMeetings").hide();if(h>0){$(".ccrPlanSelectView").height(safeSub(a,4)).width(h)}else{$(".ccrPlanSelectView").height(safeSub(a,4)).width($("#divTile3").width())}$(".ccrPlanSelectView .dashboardTable .rgDataDiv").height(safeSub((a-i),57))}$("#divTile4 .rgDataDiv").height(safeSub($("#divTile4").height(),$("#divTile4 .rgHeaderDiv").height()));$("#divTile5 .rgDataDiv").height(safeSub($("#divTile5").height(),$("#divTile5 .rgHeaderDiv").height()));$("#tile3").removeClass("leftTile");$(".todaysAccounts1").css({padding:"0px",position:"relative"});resetGridHeadersX(500)}};Pathfinder.UI.ActivityReportingApplication.registerClass("Pathfinder.UI.ActivityReportingApplication",Pathfinder.UI.BasicApplication);Pathfinder.UI.CommandEventArgs=function(a,b){Pathfinder.UI.CommandEventArgs.initializeBase(this);this._successful=b;this._commandName=a};Pathfinder.UI.CommandEventArgs.prototype={get_Successful:function(){return this._successful},get_CommandName:function(){return this._commandName}};Pathfinder.UI.CommandEventArgs.registerClass("Pathfinder.UI.CommandEventArgs",Sys.CancelEventArgs);Pathfinder.UI.PropertyChangingEventArgs=function(a){Pathfinder.UI.PropertyChangingEventArgs.initializeBase(this);this._value=a};Pathfinder.UI.PropertyChangingEventArgs.prototype={get_Value:function(){return this._value}};Pathfinder.UI.PropertyChangingEventArgs.registerClass("Pathfinder.UI.PropertyChangingEventArgs",Sys.CancelEventArgs);Pathfinder.UI.FormSubmittingEventArgs=function(a,d,b,c){Pathfinder.UI.FormSubmittingEventArgs.initializeBase(this);this._target=d;this._containerID=a;this._url=b;this._data=c};Pathfinder.UI.FormSubmittingEventArgs.prototype={get_containerID:function(){return this._containerID},get_target:function(){return this._target},get_url:function(){return this._url},get_data:function(){return this._data}};Pathfinder.UI.FormSubmittingEventArgs.registerClass("Pathfinder.UI.FormSubmittingEventArgs",Sys.CancelEventArgs);Pathfinder.UI.ClientManager=function(a){if(a){Pathfinder.UI.ClientManager.initializeBase(this,[a])}this._basePath="";this._initialized=false;this._mapReady=!flashSupported;this._contextData={};this._controls={};this._history=[];this._planInfoGridFilterTimeout=500;this._applicationMenuOptions=[];this._channelMenuOptions={1:[]};this._drugListOptions={0:[]};this._marketBasketListOptions=[];this._regionListOptions=[];this._trackingEnabled=false;this._currentHistoryIndex=-1;this._applicationManager=null;this._clientAccount=new Pathfinder.UI.ClientAccount();this._userKey="";this._clientKey="pinso";this._application=Pathfinder.UI.Applications.TodaysAccounts;this._channel=[1];this._effectiveChannel=1;this._module=null;this._region=null;this._drug=null;this._marketBasket=null;this._selectionData=null;this._userGeography={CenterX:0,CenterY:0,Area:0};this._lastSearchValue={};this._onLoadPageDelegate=null;this._onPlanGridRowSelectedDelegate=null;this._onPlanGridDataBoundDelegate=null;this._onContactSearchDelegate=null;this._onFavoriteSavedDelegate=null;this._onHistoryChangeDelegate=null;this._onApplicationSelectionChangedDelegate=null;this._onChannelSelectionChangedDelegate=null;this._onShowFavoritesDelegate=null;this._onModuleMenuItemClickedDelegate=null;this._moduleOptions=null;this._clientHasCustomPlans=false};$createFilter=Pathfinder.UI.ClientManager.createFilter=function(b,g,f,a,h){var d=new Pathfinder.UI.GridFilterExpression();if(h){d.set_isExtension(h)}var c=typeof(g)=="object";if(!a){var e=g;if(c){e=e[0]}if(isNaN(e)){a="System.String"}}if(!f){if(!c){f="EqualTo"}else{if(g==null){return}f="Custom";g=g.join(",")}}else{if(f=="Between"){if(c){g=g.join(" ")}else{f="EqualTo"}}}if(typeof(g)=="string"){g=g.replace(new RegExp("'","ig"),"%27")}d.set_fieldValue(g);d.set_filterFunction(f);d.set_columnUniqueName(b);d.set_fieldName(b);d.set_dataTypeName(a);return d};$setGridFilter=Pathfinder.UI.ClientManager.setGridFilter=function(d,c,f,e,b,g){if(!d){throw new Error("ClientManager.setGridFilter: gridOrMasterTableView parameter must be specified.")}if(!c){throw new Error("ClientManager.setGridFilter: name parameter must be specified.")}var a=d;if(a.get_masterTableView){a=a.get_masterTableView()}$clearGridFilter(a,c);if(f!=null){if(!e&&typeof(f)!="object"){e="EqualTo"}if(!b){b="System.String"}a.get_filterExpressions().add($createFilter(c,f,e,b,g))}};$clearGridFilter=Pathfinder.UI.ClientManager.clearGridFilter=function(c,b){var a=c;if(a.get_masterTableView){a=a.get_masterTableView()}if(!a){return}a.get_filterExpressions()._array=$.grep(a.get_filterExpressions()._array,function(d){return d!=null&&d.get_fieldName()!=b},false)};$clearGridFilterSelections=Pathfinder.UI.ClientManager.clearGridFilterSelections=function(a){if(a.get_masterTableView){a=a.get_masterTableView()}var c=$(a.get_tableFilterRow()).children("TD");var b=0;c.find("INPUT[value != ''][type=text]").each(function(){b++;this.value=""});c.find("div table").each(function(){var d=this.parentNode.control;if(d&&d.get_selectedIndex()>0){d._selectedIndex=0;d._selectedItem=d.get_items().getItem(0)}});return b};$loadPinsoListItems=Pathfinder.UI.ClientManager.loadPinsoListItems=function(e,h,j,g,c){if(typeof(e)=="string"){e=$find(e)}if(e){if(!e.clear){throw new Error("control does not contain a method 'clear'.")}if(!e.addItem){throw new Error("control does not contain a method 'addItem'.")}if(!e.selectItemAt){throw new Error("control does not contain a method 'selectItemAt'.")}var m;var f;e.clear();var b=false;if(h){if(j){e.addItem(j.ID,j.Name,j.Value?j.Value:j.ID)}var k;var a;var l;for(var d in h){m=h[d];a=m.ID!=null?m.ID:m.id;if(a!=null){k=m.Value!=null?m.Value:m.value;k=k!=null?k:a;l=m.Name!=null?m.Name:m.text;e.addItem(a,l,k);if(m.Selected&&!c){e.selectItem(k)}}}if(!g){e.selectItemAt(0)}else{e.selectItem(g)}}}};$refreshMenuOptions=Pathfinder.UI.ClientManager.refreshMenuOptions=function(f,b){if(!f){return}var d=f.get_items().getItem(0);if(!d){return}var a=d.get_items();var c;count=a.get_count();$(f.get_element()).find(".menuClicked").removeClass("menuClicked");var e=false;c=f.findItemByValue(b);if(c){d.set_text(c.get_text());$(c.get_element()).addClass("menuClicked");e=true}if(!e){c=a.getItem(0);if(c){d.set_text(c.get_text());$(c.get_element()).addClass("menuClicked");b=c.get_value()}}d._clearWidth();d._setWidth(d._getWidth()+"px");f._clicked=false;f.close();return b};$refreshChannelMenu=Pathfinder.UI.ClientManager.refreshChannelMenu=function(a){var c=clientManager.get_ChannelMenuCheckBoxList();if(!c){return}var b;for(b in a){c.selectItem(a[b])}$updateCheckboxDropdownText("ctl00_main_subheader1_channelMenu","Channel_Menu")};$loadMenuItems=Pathfinder.UI.ClientManager.loadMenuItems=function(c,j,l,h){var m;if(c&&j){var q;var g;var b;var o;var e=c;var p=false;if(!e.get_defaultGroupSettings){c=e.get_menu();p=true}var a=parseInt(c.get_defaultGroupSettings().get_width());var d=e.get_items().getItem(0);if(!d&&!p){g=new Telerik.Web.UI.RadMenuItem();e.get_items().add(g);d=g;d.get_groupSettings().set_width(c.get_defaultGroupSettings().get_width())}else{if(p){d=e}}d=d.get_items();for(var k=0;k<d.get_count();k++){g=d.getItem(k);$(g.get_element()).unbind("mouseenter mouseleave")}d.clear();var n=$("#__tempSpan");if(n.length==0){n=$("<div />").attr("id","__tempSpan").css({position:"absolute",left:-111111});document.body.appendChild(n[0])}if(l){g=new Telerik.Web.UI.RadMenuItem();
g.set_value(l.value);g.set_text(l.text);d.add(g);$(g.get_element()).hover(function(){$(this).addClass("menuHoverItem")},function(){$(this).removeClass("menuHoverItem")}).children("a").attr("title",n.text(l.text).width()>a?l.text:"")}for(var f in j){q=j[f];b=(q.ID?q.ID:q.Key?q.Key:f);o=(q.Name?q.Name:q.Value?q.Value:q);if(b!=null){g=new Telerik.Web.UI.RadMenuItem();g.set_value(b);g.set_text(o);d.add(g);$(g.get_element()).hover(function(){$(this).addClass("menuHoverItem")},function(){$(this).removeClass("menuHoverItem")}).children("a").attr("title",n.text(o).width()>a?o:"")}}if(d.get_count()>0){m=d.getItem(0).get_value()}c.set_visible(true);if(d.get_count()==0||(d.get_count()==1&&d.getItem(0).get_value()==0)){c.set_visible(false)}else{if(d.get_count()>0){h=$refreshMenuOptions(c,h?h:m)}}}return h?h:m};$loadListItems=Pathfinder.UI.ClientManager.loadListItems=function(f,g,h,e,j,c){if(f&&(g||h)){if(f.control){f=f.control}var m;var k;var b=f.get_items();b.clear();if(h){k=new Telerik.Web.UI.RadComboBoxItem();k.set_value(h.value);k.set_text(h.text);b.add(k)}var a;var l;for(var d in g){m=g[d];a=(m.ID?m.ID:m.Key?m.Key:m[j]?m[j]:d);l=(m.Name?m.Name:m.Value?m.Value:m[c]?m[c]:m);if(a!=null){k=new Telerik.Web.UI.RadComboBoxItem();k.set_value(a);k.set_text(l);b.add(k)}}if(b.get_count()>0){if(e==null){b.getItem(0).select()}else{k=f.findItemByValue(e);if(k){k.select()}else{b.getItem(0).select()}}}}};$getWindow=Pathfinder.UI.ClientManager.getWindow=function(){var a=null;if(window.radWindow){a=window.radWindow}else{if(window.frameElement&&window.frameElement.radWindow){a=window.frameElement.radWindow}}return a};$closeWindow=Pathfinder.UI.ClientManager.closeWindow=function(){var a=$getWindow();if(a){a.close()}else{if(window.frameElement.tagName=="IFRAME"){$(window.frameElement.parentNode).hide()}}};$openWindow=Pathfinder.UI.ClientManager.openWindow=function(b,g,e,c,i,h,f){var a=$(window);if(c==null){c=a.width()/1.05}if(i==null){i=a.height()/1.15}if(h==null||h==""){h="modal"}var d=radopen(b,h);d.setSize(c,i);if(g!=null||e!=null){if(g==null){g=0}if(e==null){e=0}d.moveTo(g,e)}else{d.Center()}if(f){return d}};$setGridPage=Pathfinder.UI.ClientManager.setGridPage=function(c,e,b){var d=$get(c);if(d&&d.control){d=d.control;if(d.get_masterTableView){d=d.get_masterTableView()}if(!b){d.set_currentPageIndex(e)}else{$setGridFilter(d,"Page_Index",e,"EqualTo","System.Int32");d.rebind()}var a=d.get_parent().get_element();a=a.control.GridWrapper;if(a){$(a.get_pagerSelector()).html($constructCustomPager(d,d.get_virtualItemCount(),false,a.get_clientManager().get_BasePath(),b));if(a.get_showLoading()){$(a.get_pagerSelector()).find(" .pagerText").html("<span class='loading'>"+a.get_loadingText()+"</span>")}}}};$constructCustomPager=Pathfinder.UI.ClientManager.constructCustomPager=function(a,h,m,x,u){function t(i){var y=i.get_filterExpressions().find("Page_Index");if(y){return y.get_fieldValue()}return 0}var q=a;if(q.get_masterTableView){q=q.get_masterTableView()}var g=q.get_id();var v="";var p=q.get_pageSize();var e=(!u?q.get_currentPageIndex():t(q));var k=5;var o=Math.ceil(h/p);var j=(e*p)+1;var l=(j-1+p);if(x==null){x=""}var n=(m===true?"window.top.":"");if(l>h){l=h}var b=(q.get_owner().get_element().control.GridWrapper&&q.get_owner().get_element().control.GridWrapper.get_showNumberOfRecords()?"<span class='pagerText'>"+String.format("Records {0}-{1} of {2}",j,l,h)+"</span>":"");var w="";var f=parseInt(e/k)*k;var r=f+k;if(r>o){r=o}for(var s=f;s<r;s++){if(e!=s){w+="<a class='pg"+s+"' href='javascript:void(0)' onclick='"+n+'$setGridPage("'+g+'",'+s+","+u+")'>"+(s+1)+"</a>"}else{w+="<span>"+(s+1)+"</span>"}}var d;if(f>0){d="<img class='pagerPrev' src='"+x+"/content/images/spacer.gif' onclick='"+n+'$setGridPage("'+g+'",'+(f-1)+","+u+")' />"}else{d="<img class='pagerPrev grey' src='"+x+"/content/images/spacer.gif' />"}var c;if(r<o){c="<img class='pagerNext' src='"+x+"/content/images/spacer.gif' onclick='"+n+'$setGridPage("'+g+'",'+(f+k)+","+u+")' />"}else{c="<img class='pagerNext grey' src='"+x+"/content/images/spacer.gif' />"}pagerHTML="<div>"+d+"<div class='pagerButtons' style='display:inline'>"+w+"</div>"+c+b+"</div>";return pagerHTML};$getDataForPostback=Pathfinder.UI.ClientManager.getDataForPostback=function(g,f,c){var e="";if(g!=null){var h;for(var b in g){h=g[b];if(h!=null){if(h.value==undefined){if(b=="__options"){var d={};for(var a in g[b]){d[a]=g[b][a].value}h=Sys.Serialization.JavaScriptSerializer.serialize(d);if(h=="{}"){continue}}if(typeof h!="object"){if(c){c[b]=h}e+=((e!=""?"&":"")+b+"="+h)}if(typeof h=="object"){if($.isArray(h)){h=h.join(",")}e+=((e!=""?"&":"")+b+"="+h)}}else{h=(h.filterType!="Contains"||f?h.value:"%"+h.value+"%");if(c){c[b]=h}e+=((e!=""?"&":"")+b+"="+encodeURIComponent(h))}}}}return e};$getFilterTextForServiceRequest=Pathfinder.UI.ClientManager.getFilterTextForServiceRequest=function(h,e){var a=h;if(a.get_masterTableView){a=a.get_masterTableView()}var c=a.get_filterExpressions();var b;var j=c.get_count();var f="";var k;function d(i){if(i.get_dataTypeName()=="System.String"){return'"'+i.get_fieldValue().split(",").join('","')+'"'}else{return i.get_fieldValue()}}for(var g=0;g<j;g++){b=c.getItem(g);if(!e||b.get_columnUniqueName()!="Page_Index"){if(b.get_filterFunction()=="Custom"){k="it."+b.get_fieldName()+" in {"+d(b)+"}"}else{if(b.get_dataTypeName()=="System.DateTime"&&b.get_filterFunction()=="Between"){k=b.get_fieldValue();k=k.split(" ");k="it."+b.get_columnUniqueName()+" >= DateTime%27"+new Date(k[0]).format("yyyy-MM-dd 00:00")+"%27 AND it."+b.get_columnUniqueName()+"< DateTime%27"+new Date(new Date(k[1]).setDate(new Date(k[1]).getDate()+1)).format("yyyy-MM-dd 00:00")+"%27"}else{k="it."+b.toOql();k=k.replace(/it\.\(/g,"(it.").replace(/\s\(/g," (it.");k=k.replace(/\*/g,"%").replace(/\"/ig,'""').replace(new RegExp("'","ig"),'"').replace(/%27/g,"''")}}f+=(g>0?" AND ":"")+k}}return encodeURIComponent(f)};$unMergeGridCells=Pathfinder.UI.ClientManager.unMergeGridCells=function(b){var a=b;if(a.get_masterTableView){a=a.get_masterTableView()}$("#"+a.get_id()+" td[rowSpan!=1]").attr("rowSpan","1");$("#"+a.get_id()+" td[_xcol=true]").css("display","").attr("_xcol",false)};$mergeGridCells=Pathfinder.UI.ClientManager.mergeGridCells=function(a){var q=a;if(q.get_masterTableView){q=q.get_masterTableView()}var l=q.get_dataItems();var j=l.length;var h;var e;var n;var B;var b={};var p={};var s={};var m={};var v={};var o={};var f={};var t;var d;var y;var w;var r;var z;var A;var g=q.get_sortExpressions().get_count();if($.browser.msie&&$.browser.version<8&&g>2){g=2}$unMergeGridCells(q);if(g>0){for(var u=0;u<j+1;u++){h=l[u];if(h){e=h.get_element();if(e.style.display=="none"){e=null}}else{e=null}for(var k=0;k<g;k++){B=q.getColumnByUniqueName(q.get_sortExpressions().getItem(k).get_fieldName());if(B){B=B.get_element().cellIndex}else{return}t=e?$(e.cells[B]):null;if(k+1<g){d=q.getColumnByUniqueName(q.get_sortExpressions().getItem(k+1).get_fieldName()).get_element().cellIndex;w=e?$(e.cells[d]):null}if(k+2<g){y=q.getColumnByUniqueName(q.get_sortExpressions().getItem(k+2).get_fieldName()).get_element().cellIndex;r=e?$(e.cells[y]):null}if(!t||(!t.hasClass("notmerged")&&!t.hasClass("mergewithnextCol")&&!t.hasClass("mergewithsecondnextCol"))){if(e){n=t.text()}else{n=null}if(n!=p[B]){if(b[B]!=null&&v[B]>1){$(b[B].cells[B]).attr("rowSpan",v[B])}if(e){t.css("display","").attr("_xcol",false);b[B]=e;v[B]=1}}else{if(e){t.css("display","none").attr("_xcol",true)}v[B]++}p[B]=n}if(!t||(!t.hasClass("notmerged")&&t.hasClass("mergewithnextCol"))){if(e){n=t.text();z=w.text()}else{n=null}if(n!=s[B]||(z!=s[d])){if(b[B]!=null&&o[B]>1){$(b[B].cells[B]).attr("rowSpan",o[B])}if(e){t.css("display","").attr("_xcol",false);b[B]=e;o[B]=1}}else{if(n==s[B]&&(z==s[d])){if(e){t.css("display","none").attr("_xcol",true)}o[B]++}}s[B]=n;s[d]=z}if(!t||(!t.hasClass("notmerged")&&t.hasClass("mergewithsecondnextCol"))){if(e){n=t.text();z=w.text();A=r.text()}else{n=null}if(n!=m[B]||(A!=m[y])){if(b[B]!=null&&f[B]>1){$(b[B].cells[B]).attr("rowSpan",f[B])}if(e){t.css("display","").attr("_xcol",false);b[B]=e;f[B]=1}}else{if(n==m[B]&&(A==m[y])){if(e){t.css("display","none").attr("_xcol",true)}f[B]++}}m[B]=n;m[y]=A}}if(e==null){break}}}new cmd(null,function(){if(q.get_parent()){$(q.get_parent().get_element()).css("visibility","hidden").css("visibility","visible")}},q,1)};$refreshGridData=Pathfinder.UI.ClientManager.refreshGridData=function(a,e,d,c){var b=a;if(b.get_masterTableView){b=b.get_masterTableView()}$.getJSON(e,d,function(f,g){if(g=="success"){try{var i=f.d;if(i.results){i=i.results;b.get_owner().get_element().control.GridWrapper.updateRecordCount(f.d.__count)}if(c){c(i,b)}b.set_dataSource(i);b.dataBind()}catch(h){}}})};$getGridSortString=Pathfinder.UI.ClientManager.getGridSortString=function(a){var b=a;if(b.get_masterTableView){b=b.get_masterTableView()}return(b.get_owner().get_element().control.GridWrapper?b.get_owner().get_element().control.GridWrapper.get_SortString():b.get_sortExpressions().toString()).replace(/ ASC/g," asc").replace(/ DESC/g," desc")};$getWebServiceQuery=Pathfinder.UI.ClientManager.getWebServiceQuery=function(j){var b=j;if(b.get_masterTableView){b=b.get_masterTableView()}var e=b.get_filterExpressions();var c;var g="";var d;var k;var f;for(var h=0;h<e.get_count();h++){c=e.getItem(h);if(c.get_filterFunction()=="Custom"){d="";k=c.get_fieldValue().split(",");for(var l in k){f=$.trim(k[l]);d+=(d!=""?",":"")+f}}else{d=c.get_fieldValue();if(typeof(d)=="string"){d=d.replace(/%27/g,"'")}}g+=(g!=""?"&":"")+c.get_fieldName()+"="+d}return encodeURI(g+"&__sort="+$getGridSortString(b)+"&__pageindex="+b.get_currentPageIndex()+"&__pagesize="+b.get_pageSize())};$getJSON=function(b,d,e){if(d&&typeof d!="string"){throw new Error("data parameter can only be of type string.")}var c=b+(d?d:"");var a=clientManager.getContextValue(c);if(!a){$.getJSON(b,d,function(g,f){if(g&&f=="success"){clientManager.setContextValue(c,g)}e(g,f)})}else{new cmd(null,e,[a,"success"],350)}};$getDataServiceQuery=Pathfinder.UI.ClientManager.getDataServiceQuery=function(k){var c=k;
if(c.get_masterTableView){c=c.get_masterTableView()}var f=c.get_filterExpressions();var d;var h="";var b="";var e;var l;var g;var n=c.get_parent().get_element().control.GridWrapper;for(var j=0;j<f.get_count();j++){d=f.getItem(j);if(d.get_fieldName()!="__options"){if(!d.isExtension){if(d.get_filterFunction()=="Custom"){e="";l=d.get_fieldValue().split(",");for(var m in l){g=$.trim(l[m]);if(isNaN(g)||d.get_dataTypeName()=="System.String"){g="'"+g+"'"}e+=(e!=""?" or ":"")+d.get_fieldName()+" eq "+g}h+=(h!=""?" and ":"")+"("+e+")"}else{if(d.get_filterFunction()=="Between"){h+=(h!=""?" and ":"")+d.toDataService().replace(/%27/g,"''").replace("T12:00:00","T00:00:00").replace("T12:00:00","T23:59:59")}else{h+=(h!=""?" and ":"")+d.toDataService().replace(/%27/g,"''")}}}else{b+=d.get_extensionFilterText()}}}return(n&&n.get_inlineCountEnabled()?"$inlinecount=allpages&":"")+(n&&n.get_expand()?"$expand="+n.get_expand()+"&":"")+"$filter="+encodeURIComponent(h)+"&$orderby="+$getGridSortString(c)+"&$skip="+(c.get_pageSize()*c.get_currentPageIndex())+"&$top="+c.get_pageSize()+b};$disposeControl=Pathfinder.UI.ClientManager.disposeControl=function(a){if(a){a.dispose()}};$disposeTelerikGrid=Pathfinder.UI.ClientManager.disposeTelerikGrid=function(c){try{var d=c.get_masterTableView()?c.get_masterTableView().get_columns():null;if(d){for(var b=d.length-1;b>=0;b--){$disposeControl(d[b]);delete (d[b])}}$disposeControl(Sys.Application.findComponent(c.get_id()+"_rfltMenu"));$disposeControl(c.get_masterTableViewHeader());$disposeControl(c.get_masterTableViewFooter());$disposeControl(c.get_masterTableView());$disposeControl(c)}catch(a){$disposeControl(c)}};$simplifyName=Pathfinder.UI.ClientManager.simplifyID=function(b,d,c){if(c){return b}if(!d){d="$"}var a=b.split(d);return a[a.length-1]};$getContainerData=Pathfinder.UI.ClientManager.getContainerData=function(i,g,d,b,e){var f={};g=g==true;function c(m){var k=null;var l=$(m);if(l.hasClass("string")){return"System.String"}else{if(l.hasClass("int")){return"System.Int32"}else{if(l.hasClass("datePicker")){return"System.DateTime"}else{if(l.hasClass("double")){return"System.Double"}}}}return null}var h=e?".XXXXXXX":".notfilter";var a=(b?", #"+i+" input[type = hidden]":", #"+i+" input.staticFilter");$("#"+i+" input[type = text]:not(.rcbInput):not("+h+")"+a).each(function(){if(!this.control){var l=this.value;if((l!=null&&l!="")||g){var m=this.name;if(m==null||m==""){m=this.id}else{m=m=$simplifyName(this.name,d)}var j=c(this);if(!j){j="System.String"}var k=(j=="System.String"?"Contains":"EqualTo");if(f[m]!=null){f[m].appendValue(this.value,this.id)}else{f[m]=new Pathfinder.UI.dataParam(m,l,j,k,this.id,$(this).hasClass("queryExt"))}}}});$("#"+i+" input[type = checkbox]:not("+h+"), .checkboxDropDown input[type = checkbox]:not("+h+"), input[type = radio]:not("+h+")").each(function(){if(!this.control&&this.checked){var l=this.name;if(l==null||l==""){l=this.id}else{l=$simplifyName(l,d)}var j=this.id;if($(this).hasClass("chkItem")){var k=this.parentElement;while(k&&!k.control){k=k.parentElement}if(k){j=k.id}}if(f[l]!=null){f[l].appendValue(this.value)}else{f[l]=new Pathfinder.UI.dataParam(l,this.value,c(this),null,j,$(this).hasClass("queryExt"))}}});$("#"+i+" textarea").each(function(){var k=$simplifyName(this.name,d);var j=this.value;if((j!=null&&j!="")||g){f[k]=new Pathfinder.UI.dataParam(k,j,"System.String",null,this.id,$(this).hasClass("queryExt"))}});$("#"+i+" div:not("+h+")"+($.browser.msie?"[control]":"")).each(function(){if(this.control&&Telerik.Web.UI.RadComboBox.isInstanceOfType(this.control)){var m=$simplifyName(this.control._uniqueId,d);var l=this.checkboxList?this.checkboxList.get_values():this.control.get_value();if((l!=null&&l!="")||g){if(!this.checkboxList||!this.checkboxList.get_booleanOptions()){f[m]=new Pathfinder.UI.dataParam(m,l,c(this),null,this.id,$(this).hasClass("queryExt"))}else{var j=this.checkboxList.get_selectedItems();if($.isArray(l)){for(var k=0;k<l.length;k++){f[l[k]]=new Pathfinder.UI.dataParam(l[k],this.checkboxList.get_trueValue(),null,null,j[k].fullID,$(this).hasClass("queryExt"))}}else{f[l]=new Pathfinder.UI.dataParam(l,this.checkboxList.get_trueValue(),null,null,j.fullID,$(this).hasClass("queryExt"))}}}else{delete (f[m])}}});return f};$validateFormData=Pathfinder.UI.ClientManager.validateFormData=function(a,c,d,b){return $validateContainerData(a,c,d,true,b)};$validateContainerData=Pathfinder.UI.ClientManager.validateContainerData=function(a,f,h,e,b){function d(j,i){switch(i){case"Integer":case"Double":return Number.parseLocale(j);case"Date":return Date.parseLocale(j)}return j}var c=true;var g="";$resetErrors(a);$("#"+a+" .validator").each(function(){var i=$(this);var p,n;p=i.attr("dataField");if(e){n=i.attr("formField")}var t;if(n){t=f[n]}if(!t&&p){t=f[p]}else{if(!n&&!p){t=$("#"+i.attr("target")).val()}}if(t&&t.get_value){t=t.get_value()}var y=true;if(i.attr("_required")=="true"){var u=t;if(u&&!$.isArray(u)){u=$.trim(u.toString())}y=(u!=null&&u!="")}if(t&&t!=""){var s=i.attr("_dataType");if(s){var r=d(t,s);y=r!=null&&!isNaN(r);if(y&&s=="Integer"){y=t.indexOf(".")==-1}}if(y&&(i.attr("_compareTo")||i.attr("_compareToValue"))){var x=i.attr("_compareTo")?d($("#"+i.attr("_compareTo")).val(),s):d(i.attr("_compareToValue"),s);var q=i.attr("_compareOp");switch(q){case"Equal":y=(t==x);break;case"NotEqual":y=(t!=x);break;case"LessThan":y=(t<x);break;case"LessThanEqual":y=(t<=x);break;case"GreaterThan":y=(t>x);break;case"GreaterThanEqual":y=(t>=x);break}}if(y&&i.attr("_regExp")){var w=t.toString();var l=w.match(new RegExp(i.attr("_regExp")));if(l!=null){y=(l.length>0&&l[0]==w)}else{y=false}}if(y&&i.attr("_maxLength")){var k=parseInt(i.attr("_maxLength"));y=t.toString().length<=k}}if(!y){g+=$(this).text()+"<br />";var o=$("#"+i.attr("target")).addClass("invalid");if(o.length>0&&o[0].control){o=o.find("input")}o.blur(function(){$validateContainerData(a,$getContainerData(a,null,e),h,e,true)})}c=c&&y});if(!c){if(!b){$alert(g,h)}}else{$clearAlert()}return c};$reloadContainer=Pathfinder.UI.ClientManager.reloadControls=function(a,d){$("#"+a+" #filterControls").scrollTop(0);function c(g){if(g&&g!="{}"){var f;for(var e in g){f=g[e];if(f){if(f.name=="onlyPBM"&&f.value==true){f=new Pathfinder.UI.dataParam("Section_ID",4,"System.Int32","EqualTo","ctl00_partialPage_filtersContainer_Section_ID_Section_ID")}else{if(f.value&&!f.isExtension){f=new Pathfinder.UI.dataParam(e,f.value,f.dataType,f.filterType,f.src)}}if(f.resetSrc){f.resetSrc()}}}}}if(!$.isArray(d)){d=[d]}for(var b=0;b<d.length;b++){if(d[b]){c(d[b]);c(d[b]["__options"])}}$("#"+a+" div:not(.notfilter).RadComboBox").each(function(){if(this.checkboxList){$updateCheckboxDropdownText(this.control)}});$("#"+a+" .chkBoxDiv").each(function(){if(this.control&&this.control.reset&&!this.control.get_values()){this.control.reset()}})};$resetErrors=function(a){if(a){a="#"+a+" "}$(a+".invalid").removeClass("invalid").unbind("blur").find("input").unbind("blur")};$resetContainer=Pathfinder.UI.ClientManager.resetContainer=function(a){$resetErrors(a);$("#"+a+" input[type=text]:not([id$=_Input]):not(.staticFilter)").val("");$("#"+a+" textarea").val("");$("#"+a+" input[type = checkbox]").each(function(){this.checked=this.value===0});$("#"+a+" .chkBoxDiv").each(function(){if(this.control&&this.control.reset){this.control.reset()}});$("#"+a+" div table").each(function(){if(this.parentNode.control&&((this.parentNode.control.get_selectedIndex&&this.parentNode.control.get_selectedIndex()>0)||this.parentNode.checkboxList)){if(this.parentNode.checkboxList){this.parentNode.checkboxList.reset();$updateCheckboxDropdownText(this.parentNode.control)}else{this.parentNode.control.get_items().getItem(0).select()}}})};$openPlanWebsite=Pathfinder.UI.ClientManager.openPlanWebsite=function(d,f){var c=clientManager.get_PlanInfoGrid();var b=c.get_masterTableView();if(!f){f=window.event}if(!f.ctrlKey){return}if(document.selection){document.selection.empty()}var a=d;while(a!=null&&a.tagName!="TD"){a=a.parentNode}var e=Sys.UI.DomElement.getBounds(a);$openWebsite($(a).text(),e.x,e.y,c.get_element().id);f.cancelBubble=true;f.returnValue=false;return false};$alert=function(i,c,b,h,d){if(!$get("dashboardAlert")){alert(i);return}var a=$(window);if(b==null){b=350}if(h==null){h=150}var g=(a.width()/2)-(b/2);var f=(a.height()/2)-(h/2);$("#dashboardAlert .close").show();var e=$("#dashboardAlert #warningIcon").attr("class");if(i){$("#dashboardAlert .message").html(i).height(h);if(!d){d=Pathfinder.UI.AlertType.Warning}e=(d==1||!e?"warningIcon":d==2?"infoIcon":d==3?"errorIcon":e)}$("#dashboardAlert #warningIcon").attr("class","").addClass(e);if(c){$("#dashboardAlert .header .title .text").text(c)}if($("#dashboardAlert").css("visibility")!="visible"){$("#dashboardAlert").width(b).css({left:g+"px",top:f+"px"}).show();if($get("warnings")){$("#warnings").hide("transfer",{to:"#dashboardAlert",className:"ui-effects-transfer"},500,function(){$("#dashboardAlert").css("visibility","visible")})}else{$("#dashboardAlert").css("visibility","visible").css("z-index","10001")}$(document).click($hideAlert)}$("#warnings").attr("class","").css("visibility","visible").addClass(e)};$clearAlert=function(){$("#dashboardAlert").css("visibility","hidden").hide();$("#warnings").css("visibility","hidden");$(document).unbind("click",$hideAlert)};$hideAlert=function(b){if(b&&(b.target.id=="requestReportButton"||b.target.id=="warnings"||$(b.target).hasClass("submitButton"))){return}var a=Sys.UI.DomElement.getBounds($get("dashboardAlert"));if(b==null||b.clientX<a.x||b.clientX>(a.x+a.width)||b.clientY<a.y||b.clientY>(a.y+a.height)){if($get("warnings")){$("#dashboardAlert").css("visibility","hidden").hide("transfer",{to:"#warnings",className:"ui-effects-transfer"},500)}else{$("#dashboardAlert").css("visibility","hidden").hide()}$(document).unbind("click",$hideAlert)}};$openWebsite=Pathfinder.UI.ClientManager.openWebsite=function(e,b,i,h){var c=e.split(";");var g=[];var d;for(var f in c){d=$.trim(c[f]).replace(new RegExp(String.fromCharCode(160),"ig"),"");
if(d!=""){g[g.length]=d}}if(g.length==1){$("#infoPopup").hide();window.open("http://"+$.trim(g[0]))}else{if(g.length>1){clientManager.openViewer("content/linkselection.aspx?links="+encodeURIComponent(g.join(";")),b-325,i-20,325,70,h)}}};$createCheckboxDropdown=Pathfinder.UI.ClientManager.createCheckboxDropdown=function(h,f,b,e,d,a){$("#"+h+" .rcbScroll").html("<div id='"+f+"' name='"+f+"'></div>");if(!e){e={}}e.breakCount=1;e.itemCssClass=e.itemCssClass?e.itemCssClass+" notfilter":"notfilter";$get(h).checkboxList=$create(Pathfinder.UI.CheckboxList,e,d,null,$get(f));if(b){$loadPinsoListItems(f,b);$updateCheckboxDropdownText(h,f)}var g=$find(h);if(g){g.add_dropDownOpening(Pathfinder.UI.ClientManager.updateCheckboxDropDownHeight);g.add_dropDownClosed($updateCheckboxDropdownText);g.add_disposing(Pathfinder.UI.ClientManager.removeCheckboxDropDownOnDispose)}if(clientManager){clientManager.registerComponent(f,null,null,a)}};Pathfinder.UI.ClientManager.removeCheckboxDropDownOnDispose=function(b,a){b.remove_dropDownOpening(Pathfinder.UI.ClientManager.updateCheckboxDropDownHeight);b.remove_dropDownClosed($updateCheckboxDropdownText);b.remove_disposing(Pathfinder.UI.ClientManager.removeCheckboxDropDownOnDispose)};Pathfinder.UI.ClientManager.updateCheckboxDropDownHeight=function(d,c){var a=0;var b=6;if(d.get_element().checkboxList){var e=d.get_element().checkboxList.get_count();if(e>b){e=b}a=e*23}if(a>0){$("#"+d.get_id()+"_DropDown .rcbScroll").height(a)}};$updateCheckboxDropdownText=Pathfinder.UI.ClientManager.updateCheckboxDropdownText=function(d,b,a){if(typeof(d)=="string"){d=$find(d)}if(d){if(typeof(b)=="string"){d.set_text($find(b).get_text())}else{d.set_text(d.get_element().checkboxList.get_text())}truncateMenu(d.get_id(),a?a:28)}};$exportModule=function(n,c,o,l,e,d){var j=n=="print";var f=e;var b=(c&&((!$.browser.msie)||(ie9))?"../":"")+"usercontent/"+(j?"print.aspx?":"export.ashx?");var h="";var a;h+=("report="+f);h+="&application="+o+"&channel="+l;var m=0;$("."+f+" .chartThumb IMG").each(function(){a="chartid="+this.getAttribute("_chartid")+"&height="+this.getAttribute("_height")+"&width="+this.getAttribute("_width")+"&title="+(this.getAttribute("_title")?this.getAttribute("_title"):"");h+=("&_img"+m+"="+encodeURIComponent(a));m++});if(!$.isArray(d)){d=[d]}if(d==null){d=[]}for(var g=0;g<d.length;g++){a=$getDataForPostback(d[g]);h+=("&_data"+g+"="+encodeURIComponent(a))}if(j){var k=window.top.open(b+h,"printWindow","top=0,left=0,resizable=1,menubar=1,width=800,height=480,status=0,toolbar=0,location=0,scrollbars=1");if(!chrome){k.print()}k.focus()}else{window.top.open(b+h)}};Pathfinder.UI.ClientManager.prototype={initialize:function(){var b=new Date();_startUp=new Date(b-_startUp);var l=_startUp.getSeconds()+":"+_startUp.getMilliseconds();Pathfinder.UI.ClientManager.callBaseMethod(this,"initialize");window.top.clientManager=this;var h=$get("_clientmanagerhistory");if(h){$addHandler(h,"load",(this._onHistoryChangeDelegate=Function.createDelegate(this,this._onHistoryChange)))}var j;j=this.get_ApplicationMenu();var k=$loadMenuItems(j,$.grep(this.get_ApplicationMenuOptions(),function(m,c){return !m.Custom}),null,this._application?this._application:Pathfinder.UI.Applications.TodaysAccounts);if(k!=Pathfinder.UI.Applications.TodaysAccounts){this._application=k}var a=$.grep(this.get_ApplicationMenuOptions(),function(m,c){return m.Custom});if(a&&a.length){a=a.sort(function(m,c){m=m.Name.toUpperCase();c=c.Name.toUpperCase();if(m>c){return 1}else{if(m<c){return -1}else{return 0}}});var i=j.get_items().getItem(0);if(i){cmi=new Telerik.Web.UI.RadMenuItem();cmi.set_text("Custom Options");cmi.set_value(0);i.get_items().add(cmi);$(cmi.get_element()).hover(function(){$(this).addClass("menuHoverItem")},function(){$(this).removeClass("menuHoverItem")});k=$loadMenuItems(cmi,a,null,this._application?this._application:Pathfinder.UI.Applications.TodaysAccounts);if(k!=Pathfinder.UI.Applications.TodaysAccounts){this._application=k}}}var g=this._application;var e=$.grep(this.get_ApplicationMenuOptions(),function(m,c){return m.ID==g});if(!e||e.length==0){this._application=this.get_ApplicationMenuOptions()[0].ID}if(j){j.add_itemOpening(function(m,c){c.set_cancel(processing>0)});j.add_itemClicked((this._onApplicationSelectionChangedDelegate=Function.createDelegate(this,this._onApplicationSelectionChanged)))}j=this.get_ChannelMenu();if(j){j.add_dropDownClosed((this._onChannelSelectionChangedDelegate=Function.createDelegate(this,this._onChannelSelectionChanged)))}this._onLoadPageDelegate=Function.createDelegate(this,this._onLoadPage);j=$get("contacts");if(j){$addHandler(j,"click",(this._onContactSearchDelegate=Function.createDelegate(this,this._onContactSearch)))}$(document).click(this._onShowFavoritesDelegate=Function.createDelegate(this,function(c){if(c.target.id!="ctl00_main_subheader1_linkViewFavorites"){$("#favoritesListWindow").slideUp("fast")}}));$create(Pathfinder.UI.Menu,null,{itemClicked:(this._onModuleMenuItemClickedDelegate=Function.createDelegate(this,this._onModuleMenuItemClicked))},null,$get("divModuleOptions"));var d=$find("moduleSelector");d.add_itemClicked(this._onModuleMenuItemClickedDelegate);this.restoreView();this._trackingEnabled=true;this._updateHistory();this._initialized=true;setPageUIState(clientManager);$(window).wresize((this._windowResizedDelegate=Function.createDelegate(this,this._windowResized)));this._windowResized();$(document).keydown(function(){$(".planLink").css("cursor",Cursor.Pointer)});$(document).keyup(function(){$(".planLink").css("cursor",Cursor.None)});var f=new Date();f=new Date(f-b)},dispose:function(){var b=$get("contacts");if(b){try{$removeHandler(b,"keypress",this._onContactSearchDelegate)}catch(a){}}b=$get("_clientmanagerhistory");if(b){try{$removeHandler(iframe,"load",this._onHistoryChangeDelegate)}catch(a){}}$(document).unbind("keydown keyup");$(window).unbind("wresize");delete (this._controls);delete (this._moduleOptions);delete (this._onContactSearchDelegate);delete (this._onLoadPageDelegate);delete (this._onPlanGridRowSelectedDelegate);delete (this._onPlanGridDataBoundDelegate);delete (this._onFavoriteSavedDelegate);delete (this._onHistoryChangeDelegate);delete (this._onApplicationSelectionChangedDelegate);delete (this._onChannelSelectionChangedDelegate);delete (this._onShowFavoritesDelegate);delete (this._onModuleMenuItemClickedDelegate);delete (this._windowResizedDelegate);Pathfinder.UI.Application.destroyInstances();Pathfinder.UI.ClientManager.callBaseMethod(this,"dispose")},add_uiStateChanged:function(a){this.get_events().addHandler("uistatechanged",a)},remove_uiStateChanged:function(a){this.get_events().removeHandler("uistatechanged",a)},add_applicationChanging:function(a){this.get_events().addHandler("applicationchanging",a)},remove_applicationChanging:function(a){this.get_events().removeHandler("applicationchanging",a)},add_applicationChanged:function(a){this.get_events().addHandler("applicationchanged",a)},remove_applicationChanged:function(a){this.get_events().removeHandler("applicationchanged",a)},add_channelChanging:function(a){this.get_events().addHandler("channelchanging",a)},remove_channelChanging:function(a){this.get_events().removeHandler("channelchanging",a)},add_channelChanged:function(a){this.get_events().addHandler("channelchanged",a)},remove_channelChanged:function(a){this.get_events().removeHandler("channelchanged",a)},add_effectiveChannelChanged:function(a){this.get_events().addHandler("effectivechannelchanged",a)},remove_effectiveChannelChanged:function(a){this.get_events().removeHandler("effectivechannelchanged",a)},add_moduleChanging:function(a){this.get_events().addHandler("modulechanging",a)},remove_moduleChanging:function(a){this.get_events().removeHandler("modulechanging",a)},add_moduleChanged:function(a){this.get_events().addHandler("modulechanged",a)},remove_moduleChanged:function(a){this.get_events().removeHandler("modulechanged",a)},add_drugChanging:function(a){this.get_events().addHandler("drugchanging",a)},remove_drugChanging:function(a){this.get_events().removeHandler("drugchanging",a)},add_drugChanged:function(a){this.get_events().addHandler("drugchanged",a)},remove_drugChanged:function(a){this.get_events().removeHandler("drugchanged",a)},add_marketBasketChanging:function(a){this.get_events().addHandler("marketbasketchanging",a)},remove_marketBasketChanging:function(a){this.get_events().removeHandler("marketbasketchanging",a)},add_marketBasketChanged:function(a){this.get_events().addHandler("marketbasketchanged",a)},remove_marketBasketChanged:function(a){this.get_events().removeHandler("marketbasketchanged",a)},add_regionChanging:function(a){this.get_events().addHandler("regionchanging",a)},remove_regionChanging:function(a){this.get_events().removeHandler("regionchanging",a)},add_regionChanged:function(a){this.get_events().addHandler("regionchanged",a)},remove_regionChanged:function(a){this.get_events().removeHandler("regionchanged",a)},add_geographyChanging:function(a){this.get_events().addHandler("geographychanging",a)},remove_geographyChanging:function(a){this.get_events().removeHandler("geographychanging",a)},add_geographyChanged:function(a){this.get_events().addHandler("geographychanged",a)},remove_geographyChanged:function(a){this.get_events().removeHandler("geographychanged",a)},add_selectionChanging:function(a){this.get_events().addHandler("selectionchanging",a)},remove_selectionChanging:function(a){this.get_events().removeHandler("selectionchanging",a)},add_selectionChanged:function(a){this.get_events().addHandler("selectionchanged",a)},remove_selectionChanged:function(a){this.get_events().removeHandler("selectionchanged",a)},add_mapIsReady:function(a){this.get_events().addHandler("mapisready",a)},remove_mapIsReady:function(a){this.get_events().removeHandler("mapisready",a)},add_mapUpdating:function(a){this.get_events().addHandler("mapupdating",a)},remove_mapUpdating:function(a){this.get_events().removeHandler("mapupdating",a)},add_restoringView:function(a){this.get_events().addHandler("restoringview",a)
},remove_restoringView:function(a){this.get_events().removeHandler("restoringview",a)},add_restoredView:function(a){this.get_events().addHandler("restoredview",a)},remove_restoredView:function(a){this.get_events().removeHandler("restoredview",a)},add_pageInitialized:function(b,a){if(!a){a="section2"}this.get_events().addHandler(a+"_pageinitialized",b)},remove_pageInitialized:function(b,a){if(!a){a="section2"}this.get_events().removeHandler(a+"_pageinitialized",b)},add_pageLoaded:function(b,a){if(!a){a="section2"}this.get_events().addHandler(a+"_pageloaded",b)},remove_pageLoaded:function(b,a){if(!a){a="section2"}this.get_events().removeHandler(a+"_pageloaded",b)},add_pageUnloaded:function(b,a){if(!a){a="section2"}this.get_events().addHandler(a+"_pageunloaded",b)},remove_pageUnloaded:function(b,a){if(!a){a="section2"}this.get_events().removeHandler(a+"_pageunloaded",b)},add_formSubmitting:function(b,a){if(!a){a="section2"}this.get_events().addHandler(a+"_formsubmitting",b)},remove_formSubmitting:function(b,a){if(!a){a="section2"}this.get_events().removeHandler(a+"_formsubmitting",b)},add_formSubmitted:function(b,a){if(!a){a="section2"}this.get_events().addHandler(a+"_formsubmitted",b)},remove_formSubmitted:function(b,a){if(!a){a="section2"}this.get_events().removeHandler(a+"_formsubmitted",b)},add_favoriteSaved:function(a){this.get_events().addHandler("favoritesaved",a)},remove_favoriteSaved:function(a){this.get_events().removeHandler("favoritesaved",a)},get_BasePath:function(){return this._basePath},set_BasePath:function(a){if(a=="/"){a=""}this._basePath=a},get_UIReady:function(){return(this._initialized&&this._trackingEnabled)},get_TrackingEnabled:function(){return this._trackingEnabled},get_MapIsReady:function(){return this._mapReady},get_ApplicationMenuOptions:function(){return this._applicationMenuOptions},set_ApplicationMenuOptions:function(a){this._applicationMenuOptions=a},get_ChannelMenuOptions:function(){return this._channelMenuOptions},set_ChannelMenuOptions:function(a){this._channelMenuOptions=a},get_ModuleOptions:function(){return this._moduleOptions},set_ModuleOptions:function(a){this._moduleOptions=a},getModuleOptionsByApp:function(b){var a=this.get_ModuleOptions();if(a){a=a[b]}if(a){return a}else{return[]}},get_States:function(){if(!this._states){this.set_States(statesList)}return this._states},set_States:function(b){this._states={};for(var a=0;a<b.length;a++){this._states[b[a].Key]=b[a].Value}},get_RegionListOptions:function(){return this._regionListOptions},set_RegionListOptions:function(a){this._regionListOptions=a},getRegionNameByID:function(a){var b=this.get_States()[a];if(!b){b=$.grep(this.get_RegionListOptions(),function(d,c){return d.Key==a});if($.isArray(b)&&b.length>0){b=b[0].Value+" ["+b[0].Key+"]"}else{b=null}}return b?b:""},get_MarketBasketListOptions:function(){return this._marketBasketListOptions},set_MarketBasketListOptions:function(a){this._marketBasketListOptions=a},get_DrugListOptions:function(){return this._drugListOptions},set_DrugListOptions:function(a){this._drugListOptions=a},get_ApplicationUrlName:function(){var a=this.get_ApplicationManager();if(a){return a.get_UrlName()}return""},get_UserKey:function(){return this._userKey},set_UserKey:function(a){if(this._userKey==null||this._userKey==""){this._userKey=a}else{throw new Error("UserKey property cannot be set once initialized.")}},get_ClientAccount:function(){return this._clientAccount},get_ClientKey:function(){return this.get_ClientAccount().get_ClientKey()},set_ClientKey:function(a){return this.get_ClientAccount().set_ClientKey(a)},get_ClientOptions:function(){},set_ClientOptions:function(b){var a=this.get_ClientKey();delete (this._clientAccount);this._clientAccount=new Pathfinder.UI.ClientAccount(a,b)},get_Application:function(){return this._application},set_Application:function(b){if(b!=null&&b!=""&&!isNaN(b)){b=parseInt(b,10)}else{b=Pathfinder.UI.Applications.TodaysAccounts}if(this._application!=b){var c=new Sys.CancelEventArgs();var a=this.get_events().getHandler("applicationchanging");if(a){a(this,c)}if(!c.get_cancel()){if(this._applicationManager){this._applicationManager.deactivate(this)}this._application=b;if(this.get_UIReady()){new cmd(this,"_onApplicationChanged",[],300)}}}},get_ApplicationManager:function(){return this._applicationManager},getChannelUrlName:function(a,b){return this.getChannelProp(a,b,"Folder","all")},get_ChannelUrlName:function(){return this.getChannelUrlName(this.get_Application(),this.get_EffectiveChannel())},get_Channel:function(){return this._channel},set_Channel:function(d){var a=[];if($.isArray(d)){for(var b=0;b<d.length;b++){a.push(parseInt(d[b],10))}}else{a.push(parseInt(d,10))}var g=$(this._channel).not(a).get().length==0&&$(a).not(this._channel).get().length==0;if(!g){this._rebindPlanInfoGrid=true;var f=new Sys.CancelEventArgs();var c=this.get_events().getHandler("channelchanging");if(c){c(this,f)}if(!f.get_cancel()){this._channel=a;if(this.get_UIReady()){new cmd(this,"_onChannelChanged",[],300)}}}else{this._rebindPlanInfoGrid=false}},get_EffectiveChannel:function(){return this._effectiveChannel},set_EffectiveChannel:function(a){if(this._effectiveChannel!=a){this._effectiveChannel=a;if(this.get_UIReady()){this._onEffectiveChannelChanged()}}},get_Module:function(){if(this._module==null&&this.get_ApplicationManager()){return this.get_ApplicationManager().getDefaultModule(this)}return this._module},set_Module:function(b){if(b!=null){b=b.toLowerCase()}if(this._module!=b){var c=new Pathfinder.UI.PropertyChangingEventArgs(b);var a=this.get_events().getHandler("modulechanging");if(a){a(this,c)}if(!c.get_cancel()){this._module=b;if(this.get_UIReady()){this._onModuleChanged()}}}},get_SelectionData:function(a){if(a==null){a=0}if(this._selectionData){return this._selectionData[a]}return null},set_SelectionData:function(c,f,a){if(f==null){f=0}if(typeof f=="string"){a=f;f=0}if(a&&this._module!=a){var d=new Pathfinder.UI.PropertyChangingEventArgs(c);var b=this.get_events().getHandler("modulechanging");if(b){b(this,d)}if(!d.get_cancel()){this._module=a;b=this.get_events().getHandler("modulechanged");if(b){b(this,new Sys.EventArgs())}}}this._setSelectionData(c,f,true)},get_SelectionCount:function(){if(this._selectionData){return this._selectionData.length}return 0},getAllSelectionData:function(){return this._selectionData},clearSelectionData:function(a){if(a){this._selectionData=null}else{this.set_SelectionData(null)}},_setSelectionData:function(f,i,c,d){var a=d!=true&&!this._section2Invalid;this._section2Invalid=false;var g=new Sys.CancelEventArgs();if(c){var b=this.get_events().getHandler("selectionchanging");if(b){b(this,g)}}if(!g.get_cancel()){if(this._selectionData==null){this._selectionData=[]}this._selectionData[i]=f;if(this.get_UIReady()){this._onSelectionChanged(a&&f!=null&&this.isFilteredModule(null,i)&&this._controls.section2!=null&&this._controls.section2.length!=0,c,i)}}},get_Region:function(){return this._region},set_Region:function(b){b=(b==""?null:b);if(this._region!=b&&this._regionCanFilterPlans()){var c=new Sys.CancelEventArgs();var a=this.get_events().getHandler("regionchanging");if(a){a(this,c)}if(!c.get_cancel()){this._region=b;if(this.get_UIReady()){this._onRegionChanged()}}}},get_Drug:function(){return this._drug},set_Drug:function(b){if(this._drug!=b){var c=new Sys.CancelEventArgs();var a=this.get_events().getHandler("drugchanging");if(a){a(this,c)}if(!c.get_cancel()){this._drug=b;if(this.get_UIReady()){this._onDrugChanged()}}}},get_MarketBasket:function(){return this._marketBasket},set_MarketBasket:function(b){if(this._marketBasket!=b){var c=new Sys.CancelEventArgs();var a=this.get_events().getHandler("marketbasketchanging");if(a){a(this,c)}if(!c.get_cancel()){this._marketBasket=b;if(this.get_UIReady()){this._onMarketBasketChanged()}}}},get_UserGeography:function(){return this._userGeography},set_UserGeography:function(a){if(a==null||a==""){a={CenterX:0,CenterY:0,Area:0}}this._userGeography=a},get_Geography:function(){return this._geography},set_Geography:function(b){if(!this.get_UserGeography()||!this.get_UserGeography().Regions){if((this._geography?this._geography.Regions:"")!=(b?b.Regions:"")){var c=new Sys.CancelEventArgs();var a=this.get_events().getHandler("geographychanging");if(a){a(this,c)}if(!c.get_cancel()){this._geography=b;if(this.get_UIReady()){this._onGeographyChanged()}}}}},get_clientHasCustomPlans:function(){return this._clientHasCustomPlans},set_clientHasCustomPlans:function(a){this._clientHasCustomPlans=a},get_EffectiveGeography:function(){var a=this.get_UserGeography();if((!a||!a.RegionID)&&this._geography){a=this._geography}return a},get_PlanInfoGrid:function(){if(!this._planInfoGrid){var a=$get("ctl00_main_planInfo_gridPlanInfo");if(a&&a.control){this._planInfoGrid=a.control}}return this._planInfoGrid},get_CurrentUIStateAsText:function(a){var b=Sys.Serialization.JavaScriptSerializer.serialize(this.get_CurrentUIState(a));return b},get_CurrentMapUIStateAsText:function(){return this.get_CurrentUIStateAsText(this.get_ApplicationManager().get_MapUIStatePropertyNames())},get_CurrentUIState:function(b){var c={};if(!b){c={UserKey:encodeURIComponent(this.get_UserKey()),Application:this.get_Application(),Channel:this.get_EffectiveChannel(),Module:this.get_Module(),Region:this.get_Region(),MarketBasket:this.get_MarketBasket(),Drug:this.get_Drug(),Data:this.getAllSelectionData()};if(this.get_Geography()){c.Geography=this.get_Geography()}}else{if(!$.isArray(b)){throw new Error("props parameter must be an array of property names.")}var d;c.UserKey=this.get_UserKey();for(var a=0;a<b.length;a++){d=this["get_"+b[a]];if(d){c[b[a]]=d.apply(this)}}}return c},set_CurrentUIState:function(c,d){if(typeof(c)=="string"&&c!=""){try{c=Sys.Serialization.JavaScriptSerializer.deserialize(c,true)}catch(b){return}}if(c!=null&&c!=""){if(!this.get_ApplicationMenuOptions()||this.get_ApplicationMenuOptions().length==0){throw new Error("ApplicationMenuOptions property must be set prior to setting CurrentUIState.")
}if(d||this.get_UserKey()==decodeURIComponent(c.UserKey)){if($.grep(this.get_ApplicationMenuOptions(),function(f,e){return f.ID==c.Application}).length>0){this.set_Application(c.Application);this.set_Channel(c.Channel);this.set_Module(c.Module);this._region=c.Region;this.set_MarketBasket(c.MarketBasket);this.set_Drug(c.Drug);if($.isArray(c.Data)){var a=this;$.each(c.Data,function(e,f){a.set_SelectionData(f,e)})}else{this.set_SelectionData(c.Data)}this._onUIStateChanged()}}}},_onUIStateChanged:function(a){var b=new Date();b.setFullYear(b.getFullYear()+50);document.cookie="s="+escape(this.get_CurrentUIStateAsText())+"; expires="+b.toUTCString();if(!a){setPageUIState(this)}var c=this.get_events().getHandler("uistatechanged");if(c){c(this,new Sys.EventArgs())}},get_ApplicationMenu:function(){var a=$get("ctl00_main_subheader1_applicationMenu");if(a){return a.control}return null},get_ChannelMenu:function(){var a=$get("ctl00_main_subheader1_channelMenu");if(a){return a.control}return null},get_ChannelMenuCheckBoxList:function(){var a=$get("Channel_Menu");if(a){return a.control}return null},_windowResized:function(a){var b=this.get_ApplicationManager();if(b){b.resize(a)}},restoreView:function(){var a=this._trackingEnabled;if(a){var b=this.get_events().getHandler("restoringview");if(b){b(this,new Sys.EventArgs())}}this._trackingEnabled=false;this._onApplicationChanged();this._onChannelChanged();this._onModuleChanged();this._pendingRegionZoom=this.get_Region()!=null;this._doMapCommand("restoreview");this._trackingEnabled=a;if(a){var b=this.get_events().getHandler("restoredview");if(b){b(this,new Sys.EventArgs())}}},submitForm:function(f,i){try{var o;var c;var k=false;if(!f){o="section2"}else{if(typeof f=="string"){o=f}else{c=f;o=$(f).attr("_containerID");if(!o){o="section2"}k=$(f).hasClass("validate")}}var a=this.getUrl();a+="?"+this.getSelectionDataForPostback();var d=i.responseType?i.responseType:"json";data=$getContainerData(o,true,true,true);var i=new Pathfinder.UI.FormSubmittingEventArgs(o,c,a,data);var e=this.get_events().getHandler(o+"_formsubmitting");if(e){e(this,i)}if(!i.get_cancel()){var l=$("#"+o).attr("__title");if(!l){l="Form Submit"}if(!k||$validateFormData(o,data,l)){if(c){if(c.name){data.__EVENTTARGET=c.name}else{while(c&&!c._name){c=c.parentNode}data.__EVENTTARGET=c._name}}data.__EVENTARGUMENT="";var n=$("#"+o);n.find("#__VIEWSTATE").each(function(){data[$simplifyName(this.name,true)]=encodeURIComponent(this.value)});n.find("#__EVENTVALIDATION").each(function(){data[$simplifyName(this.name,true)]=encodeURIComponent(this.value)});n.find("#__VIEWSTATEENCRYPTED").each(function(){data[$simplifyName(this.name,true)]=encodeURIComponent(this.value)});data.__RESPONSETYPE=d;data=$getDataForPostback(data,true);if(c&&c.type=="submit"){var j=Sys.UI.DomElement.getBounds(c);var b=document.createElement("IMG");$(b).attr("src","content/images/spacer.gif").css({cursor:"wait",position:"absolute",left:j.x,width:j.width,top:j.y,height:j.height,zIndex:10000});$("#"+o).append(b)}var m=this;if(d=="json"){$.post(a,data,function(p,q){var r=m.get_events().getHandler(o+"_formsubmitted");if(r){r(m,{containerID:o,result:p,target:c,get_target:function(){return this.target},get_result:function(){return this.result},get_containerID:function(){return this.containerID}})}},"json")}else{this.unloadPage(o,true);$("#"+o).loadEx(a+" form>*",data,this._onLoadPageDelegate,null,null,true)}}}}catch(g){$alert(g.description)}return false},exportView:function(b,d,a,c){if(a==""){a=this.get_Module()}if(c==""){c=this.get_EffectiveChannel()}$exportModule(b,d,this.get_Application(),c,a,this.getAllSelectionData())},resetPlans:function(){var c=this.get_PlanInfoGrid();if(!c){throw new Error("ClientManager.filterPlans: PlanInfoGrid has not been set.  Use set_PlanInfoGrid to link the ClientManager to the control.")}this._lastSearchValue={};var b=c.get_masterTableView();var e=$clearGridFilterSelections(b);var f=b.get_filterExpressions();var d=f.find("Plan_State");var a=null;if(d){a=d.get_fieldValue()}f.clear();if(this.get_Region()!=null&&(e>0||this.get_Region()!=a)){this.filterPlans("Plan_State",this.get_Region())}else{if(e>0){this.filterPlans()}}},filterPlans:function(d,g,f,b){var e=this.get_PlanInfoGrid();if(!e){throw new Error("ClientManager.filterPlans: PlanInfoGrid has not been set.  Use set_PlanInfoGrid to link the ClientManager to the control.")}if(e){var a=e.get_masterTableView();var c=this.get_Channel();if((c.length==1&&$.inArray(0,c)>-1)||c==null){if(d&&d=="Section_ID"){$clearGridFilter(a,"Plan_Type_ID");if(g!=null&&g!=""){$setGridFilter(e,d,g,f,b)}}else{if(d&&d=="Plan_Type_ID"){$clearGridFilter(a,"Section_ID");if(g!=null&&g!=""){$setGridFilter(e,d,g,f,b)}}else{if(g!=null&&g!=""){$setGridFilter(e,d,g,f,b)}else{if(d){$clearGridFilter(a,d)}}}}}else{$setGridFilter(e,"Section_ID",c.join(","),"Custom","System.Int32");if(g!=null&&g!=""){$setGridFilter(e,d,g,f,b)}else{if(d){$clearGridFilter(a,d)}}}a.clearSelectedItems();a.rebind()}},getChannelProp:function(c,e,f,a){var h=a;var b=this.get_ChannelMenuOptions()[c];if(b){for(var g in b){if(b[g]["ID"]==e){var d=b[g];if(d){h=d[f];if(!h){h=a}}}}}return h},getModuleProp:function(c,d,f,a){var g=a;var b=this.getModuleOptionsByApp(c);if(b){var e=$.grep(b,function(j,h){return j.ID==d});if(e&&e.length){g=e[0][f];if(!g){g=a}}}return g},isCustomView:function(){return this.getChannelProp(this.get_Application(),this.get_EffectiveChannel(),"Custom",false)||this.getModuleProp(this.get_Application(),this.get_Module(),"Custom",false)},getUrl:function(a){var b=this.isCustomView();return this.get_ApplicationManager().getUrl(this.get_ChannelUrlName(),this.get_Module(),a,this.get_SelectionData()!=null,b)},getUIStateForPostback:function(){return $getDataForPostback(this.get_CurrentUIState())},getSelectionDataForPostback:function(){return $getDataForPostback(this.get_SelectionData())},_setDataFilters:function(c,h,g){var f=this.get_SelectionData(g);if(f||h){var e;var a=c.get_masterTableView();if(f){for(var d in f){if(d!="__options"){$clearGridFilter(a,d);if(f[d]!=null){if(f[d].value){f[d]=new Pathfinder.UI.dataParam(d,f[d].value,f[d].dataType,f[d].filterType,f[d].src,f[d].isExtension)}if(f[d].get_value==null){e=$createFilter(d,f[d])}else{e=$createFilter(d,f[d].get_value(),f[d].get_filterType(),f[d].get_dataType(),f[d].get_isExtension())}a.get_filterExpressions().add(e)}}}}if(h){for(var b in h){e=$createFilter(b,h[b]);$clearGridFilter(a,e.get_columnUniqueName());a.get_filterExpressions().add(e)}}a.rebind()}},validateCurrentUser:function(){$(".RadWindow iframe").each(function(){if(this.radWindow){this.radWindow.close()}});$openWindow("content/reauthenticate.aspx",null,null,760,330,"login")},addToFavorites:function(a){if(this._onFavoriteSavedDelegate==null){this._onFavoriteSavedDelegate=Function.createDelegate(this,this._onFavoriteSaved)}$.post("services/pathfinderservice.svc/AddFavorite",{Name:a,Data:this.get_CurrentUIStateAsText()},this._onFavoriteSavedDelegate)},_onFavoriteSaved:function(d,c,b){var a=this.get_events().getHandler("favoritesaved");if(a){a(this,new Pathfinder.UI.CommandEventArgs("savefavorite",true))}},mapReloadData:function(){if(this._regionCanFilterPlans()){if(flashSupported){fmThemeReloadAreas("areas/mapdata.ashx?s="+this.get_CurrentMapUIStateAsText())}else{$("#divTile1").load("map.aspx?cmd=restoreview&s="+clientManager.get_CurrentMapUIStateAsText()+" form>*")}}},_doMapCommand:function(g,a){if(!this.get_MapIsReady()){return}var f=false;var d=g.toLowerCase();var c=new Pathfinder.UI.CommandEventArgs(d);var i=this.get_events().getHandler("mapupdating");if(i){i(this,c)}if(!c.get_cancel()){switch(d){case"channelchanged":case"drugchanged":case"marketbasketchanged":this._pendingMapReload=true;if(a){this.centerMapToUserGeography()}else{this._internalMapIsReady()}break;case"restoreview":if(flashSupported){this._pendingRegionZoom=this.get_Region()!=null;if(this._mapReady){if(this._zoomedIn){this.centerMapToUserGeography()}else{this._internalMapIsReady()}}else{return}}case"regionchanged":if(this.get_Application()==Pathfinder.UI.Applications.TodaysAccounts){var e=this.get_PlanInfoGrid();var b=e.get_masterTableView();$setGridFilter(e,"Plan_State",this.get_Region());$clearGridFilter(e,"VISN");b.clearSelectedItems();b.rebind();if(g.toLowerCase()=="regionchanged"){this.clearSelectionData(true);this._updateHistory()}}break}if(!flashSupported&&this.get_UIReady()){this.mapReloadData()}}},externalMapIsReady:function(){this._mapIsReady(true);var a=this.get_events().getHandler("mapisready");if(a){a(this,new Sys.EventArgs())}},_internalMapIsReady:function(){this._skipMapEvent=false;this._mapIsReady()},_mapIsReady:function(a){if(!flashSupported){return}if(this._skipMapEvent&&this._pendingEventName=="ZoomOut"){this._skipMapEvent=false;return}if(this._mapReady&&(!a||this._pendingEvent)){fmHideCrossHair();if(this._pendingMapReload){this._pendingMapReload=false;this.mapReloadData()}else{if(this._pendingRegionZoom){this._pendingRegionZoom=false;fmAreaCenter(["us_"+this.get_Region()])}else{this.set_Region(this._pendingRegion);this._pendingRegion=null;if(this._pendingGeoUpdate){this._pendingGeoUpdate=false;this.mapReloadData()}}}this._pendingEvent=false}if(this._mapReady==false){this.centerMapToUserGeography()}this._mapReady=true;fmPOIsHideCategory("msa");if(this.get_Channel()==11){fmPOIsShowCategory("visn")}else{fmPOIsHideCategory("visn")}if(this._zoomedIn&&this.get_Geography()&&!$.isArray(this.get_Region())){$("#btnResetGeog").show()}else{$("#btnResetGeog").hide()}},externalMapAreaChanged:function(a,d,c,b){this._pendingEventName=a;if(this._skipMapEvent&&a=="ZoomOut"){return}this._pendingEvent=true;this._pendingRegion=d&&d!="null"?$.trim(d.substr(3)).toUpperCase():this._pendingRegion;this._zoomedIn=a=="ZoomIn"||a=="Move";if(!this._zoomedIn&&this.get_Geography()){this._geography=null;this._pendingGeoUpdate=true}},resetGeography:function(){var a=this.get_Geography();if(a){this._pendingRegion=a.Regions.split(",");this._skipMapEvent=this.get_Region()!=null;
this._pendingGeoUpdate=false;this.centerMapToUserGeography()}},centerMapToUserGeography:function(){var d=this.get_EffectiveGeography();if(d.CenterX!=0){var b=d.Area;var c=100;if(b<3){c=1200}else{if(b<6){c=1000}else{if(b<10){c=800}else{if(b<18){c=700}else{if(b<24){c=500}else{if(b<35){c=450}else{if(b<60){c=400}else{if(b<75){c=350}else{if(b<90){c=300}else{if(b<180){c=250}else{if(b<360){c=200}else{if(b<600){c=150}else{if(b<700){c=125}}}}}}}}}}}}}fmAreaCenterLatLon("",d.CenterY,d.CenterX,c)}else{if(d.RegionID){fmAreaCenter(["us_"+d.RegionID])}else{if(this._pendingRegionZoom){fmAreaCenter(["us_"+this.get_Region()])}else{fmInitialView()}}}this._pendingRegionZoom=false},openViewer:function(c,b,g,d,a,e){var f=$(window);if(d==null){d=(f.width()/1.05)-(b?b:0)}if(a==null){a=(f.height()/1.15)-(g?g:0)}if(!b){b=(f.width()/2)-(d/2)}if(!g){g=(f.height()/2)-(a/2)}if(f.height()<g+a){g-=a}$("#infoPopup").show().css("z-index",10000).css("left",b).css("top",g).css("width",d).css("height",a).attr("activeRegion",e);$("#infoPopup .tileContainerHeader .title").text("...");this.loadPage(c,"infoPopup");$("#infoPopup .ajaxLoader").show()},openToolTipViewer:function(a,e,b,h,f,c,i,g,d){if(e==null){e="id"}if(a.indexOf("/")==-1){a=this.getUrl(a)}a=a+"?"+e+"="+b+(g?"&title="+encodeURIComponent(g):"");this.openViewer(a,h,f,c,i,d)},openToolTipViewerWithQueryString:function(c,b,g,d,a,f,e){if(c.indexOf("/")==-1){c=this.getUrl(c)}c=c+(f?"&title="+encodeURIComponent(f):"");this.openViewer(c,b,g,d,a,e)},openItemViewer:function(c,h,g,b,f,e,a){if(h==null){h="id"}var d=this.getUrl(c)+"?"+h+"="+g;$openWindow(d,b,f,e,a)},openPieChartViewer:function(d,j,h,g){var e=clientManager.get_ApplicationManager();var c=e.getUrl("all",clientManager.get_Module(),"OpenPieChart.aspx");var b;var i=this.get_Region();b="Section_ID="+this.get_Channel().toString();if(i!=null){b+="&Plan_State="+i}if(clientManager.getContextValue("restrictByTerritory")&&clientManager.getContextValue("restrictByTerritory")!=null){b=b+"&ByTerritory=true"}c=c+"?"+b;var a=GetRadWindowManager();var f=radopen(c,"PieChart");f.setSize(d,j);f.Center()},showFavoritesList:function(){$("#favoritesListWindow").loadEx("usercontent/favoriteslist.aspx form>*",null,function(){$(this).css("visibility","hidden").css("display","block");var b=Sys.UI.DomElement.getBounds($get("ctl00_main_subheader1_linkViewFavorites"));var a=Sys.UI.DomElement.getBounds($get("favoritesListWindow"));$(this).css("top",b.y+b.height).css("left",((b.x+b.width)-a.width)).css("display","none").css("visibility","visible").slideDown("fast")})},selectFavorite:function(c,b){var a=this;$("#favoritesListWindow").slideUp("fast",function(){a._trackingEnabled=false;a.set_CurrentUIState(b,true);a._trackingEnabled=true;a.restoreView();a._updateHistory();setPageUIState(a)})},getContextValue:function(a){return this._contextData[a]},setContextValue:function(a,b){if(a){if(b){this._contextData[a]=b}else{this._contextData[a]=null}}},clearContext:function(){this._contextData={}},registerComponent:function(c,d,f,a,e){if(e==null){e=0}if(!a){a="section2"}if(this._controls[a]==null){this._controls[a]=[]}var b=this._controls[a];b[b.length]={id:c,data:d,level:e,updateable:f?true:false}},isFilteredModule:function(a,e){var d=this.get_Module();if(!a){a="section2"}if(e==null){e=0}var b=this._controls[a];if(b){for(var c=0;c<b.length;c++){if(b[c].updateable&&b[c].level==e){return true}}}return false},setPlanInfoGridTimeout:function(b,a){if(this._planInfoGridTimeoutHandle){this._planInfoGridTimeoutHandle.cancel()}this._planInfoGridTimeoutHandle=new cmd(this,"_planInfoGridTimeout",[b,a],this._planInfoGridFilterTimeout);this._planInfoGridTimeoutSource=b},_planInfoGridTimeout:function(b,a){this._planInfoGridTimeoutHandle=null;if(b){if(b.value!=this._lastSearchValue[a.dataField]){this.filterPlans(a.dataField,b.value,a.filterType)}this._lastSearchValue[a.dataField]=b.value}},_onApplicationSelectionChanged:function(b,a){if(processing>0){return}var c=a.get_item().get_value();if(c){this.set_Application(c);$refreshMenuOptions(b,c)}},_onChannelSelectionChanged:function(b,a){var d=clientManager.get_ChannelMenuCheckBoxList();var c=d.get_values();if(c!==null&&c!==""){this.set_Channel(c)}else{this.set_Channel(0)}},_onModuleMenuItemClicked:function(b,a){new cmd(this,"set_Module",[a.item.value],10)},_onApplicationChanged:function(){$refreshMenuOptions(this.get_ApplicationMenu(),this.get_Application());if(this.get_UIReady()){this._module=null}this.unloadPage("section2");if(!this._applicationManager||this._applicationManager.get_ApplicationID()!=this.get_Application()){this._applicationManager=Pathfinder.UI.Application.getInstance(this,this.get_Application(),true)}if(this._trackingEnabled){this._setSelectionData(this._applicationManager.getDefaultData(this),0,false)}this._updateHistory();var a=this.get_events().getHandler("applicationchanged");if(a){a(this,new Sys.EventArgs())}this._onUIStateChanged();$refreshMenuOptions(this.get_ChannelMenu(),this.get_Channel())},_onChannelChanged:function(){$refreshChannelMenu(this.get_Channel());var b=this.get_ApplicationManager().configureModuleMenu(this,this.get_EffectiveChannel(),this.get_Module());var e=this._module!=b;if(this.get_UIReady()){this._module=b}if(this.get_ApplicationManager().hasChannelMenuOptions(this)){var a=false;if(!this._regionCanFilterPlans()){$setGridFilter(this.get_PlanInfoGrid(),"Plan_State",null);a=this._region!=null;$("#btnResetGeog").hide();this._region=null;this._geography=null}var d=this.get_ApplicationManager().getDefaultData(this);if(this.get_Channel()[0]!=107){if(d){delete (d.VISN)}}if(this._trackingEnabled){if(this.get_Application()!=Pathfinder.UI.Applications.TodaysAccounts||e){this._setSelectionData(d,0,false,e)}else{this.unloadPage();this.clearSelectionData(true)}this._doMapCommand("channelchanged",a)}this._updateHistory()}var c=this.get_events().getHandler("channelchanged");if(c){c(this,new Sys.EventArgs())}this._onUIStateChanged()},_onEffectiveChannelChanged:function(){this._module=this.get_ApplicationManager().configureModuleMenu(this,this.get_EffectiveChannel(),this.get_Module());this.clearSelectionData(true);this._section2Invalid=true;this._updateHistory();var a=this.get_events().getHandler("effectivechannelchanged");if(a){a(this,new Sys.EventArgs())}this._onUIStateChanged()},_onModuleChanged:function(){this._onSelectionChanged(false,false,0);this._updateHistory();var a=this.get_events().getHandler("modulechanged");if(a){a(this,new Sys.EventArgs())}this._onUIStateChanged()},_onDrugChanged:function(){this._doMapCommand("drugchanged");this._updateHistory();var a=this.get_events().getHandler("drugchanged");if(a){a(this,new Sys.EventArgs())}this._onUIStateChanged()},_onMarketBasketChanged:function(){this._drug=this._drugListOptions[this.get_MarketBasket()][0].ID;this._doMapCommand("marketbasketchanged");this._updateHistory();var a=this.get_events().getHandler("marketbasketchanged");if(a){a(this,new Sys.EventArgs())}this._onUIStateChanged()},_onGeographyChanged:function(){if(this._geography){this._pendingRegion=this._geography.Regions.split(",");this._skipMapEvent=this.get_Region()!=null}this._pendingGeoUpdate=true;this.centerMapToUserGeography();var a=this.get_events().getHandler("geographychanged");if(a){a(this,new Sys.EventArgs())}this._onUIStateChanged()},_regionCanFilterPlans:function(){return this.get_ApplicationManager().canFilterByRegion(this)},restoreMap:function(){this.set_Region(null)},_onRegionChanged:function(){if(this._regionCanFilterPlans()){this._doMapCommand("regionchanged")}var a=this.get_events().getHandler("regionchanged");if(a){a(this,new Sys.EventArgs())}this._onUIStateChanged()},_onSelectionChanged:function(a,d,f){if(f==null){f=0}if(this.get_UIReady()&&this._selectionData){var e=this._selectionData.length-1;for(var b=f;b<e;b++){Array.removeAt(this._selectionData,f+1)}}if(!a){if(f==0){this._unloadPage();this._loadPage()}}else{this._resetFilteredData(null,f)}if(d){this._updateHistory();var c=this.get_events().getHandler("selectionchanged");if(c){c(this,{level:f})}this._onUIStateChanged(true)}},refreshSection2:function(){this._unloadPage();this._loadPage()},loadPage:function(b,a,c){this._unloadPage(a);$("#"+a).loadEx(b+" form>*",null,this._onLoadPageDelegate,null,c)},loadPageUsingUIState:function(c,a){var b=this._controls[a];if(b&&b.length>0){this._unloadPage(a)}var d=this.getUIStateForPostback();$("#"+a).loadEx(c+" form>*",d,this._onLoadPageDelegate)},loadPageUsingSelectionData:function(c,a){var b=this._controls[a];if(b&&b.length>0){this._unloadPage(a)}var d=this.getSelectionDataForPostback();d+=(d.length>0?"&":"")+"_userkey="+this.get_UserKey();$("#"+a).loadEx(c+" form>*",d,this._onLoadPageDelegate)},_loadPage:function(){var a=this.getUrl();this.loadPageUsingSelectionData(a,"section2")},unloadPage:function(a,b){this._unloadPage(a);if(!b){$("#"+a).html("")}},_unloadPage:function(a){if(!a){a="section2"}if(a=="section2"){JT_uninit()}$("#"+a+" input[type=submit]").unbind("click");var b=this._controls[a];if(b){var f;for(var d=b.length-1;d>=0;d--){f=Sys.Application.findComponent(b[d].id);if(f){if(f.get_masterTableViewHeader){$disposeTelerikGrid(f)}else{$disposeControl(f)}}else{f=$get(b[d].id);if(f&&f.tagName=="OBJECT"){window[b[d].id]=null}}Array.removeAt(b,d)}}var e=this.get_events().getHandler(a+"_pageunloaded");if(e){e(this,new Sys.EventArgs())}},_onLoadPage:function(j,n,a,b,f,e){if(!f){f="section2"}if(n=="success"){var g=false;g=$("#"+f+" input.postback[type=submit]").attr("_containerID",f).click(function(c){return clientManager.submitForm(c.target,{responseType:"json"})}).length>0;g=($("#"+f+" .postback a[href^=javascript:__doPostBack], #"+f+" a.postback").each(function(){try{var d=this.href.substr(this.href.indexOf("'")+1);d=d.substr(0,d.indexOf("'"));this._name=d}catch(c){}}).attr("href","javascript:void(0)").attr("_containerID",f).click(function(c){return clientManager.submitForm(c.target,{responseType:"html"})}).length>0)||g;$("#"+f).removeAttr("__title");if(g){try{var m=/\<title\>/.exec(j);
if(isNaN(m)){m=m.index+7}var s=/\<\/title\>/.exec(j);if(isNaN(s)){s=s.index}$("#"+f).attr("__title",$.trim(j.substr(m,s-m)))}catch(v){}}$("script[_container="+f+"]").remove();var w=document.createElement("DIV");w.innerHTML=j;if($(w).find("#loginPage").length==0){var x=$(w).children("form").children("script").filter(":not([src])");var o;for(var t=0;t<x.length;t++){try{o=document.createElement("SCRIPT");o.setAttribute("_container",f);o.text=x[t].text;document.body.appendChild(o)}catch(v){}}w.innerHTML="";if(w.parentNode){w.parentNode.removeChild(w)}w=null;o=null;var u=this.get_events().getHandler(f+"_pageinitialized");safeEvent(this,u,new Sys.EventArgs(),"Unhandled error in "+f+"_pageinitialized event handler.");var q=this.get_SelectionCount();for(var t=0;t<q;t++){if(this.isFilteredModule(f,t)){this._resetFilteredData(f,t);break}}if(f=="section2"){var p=this.get_ApplicationManager();p.resizeSection();p.configureSection()}u=this.get_events().getHandler(f+"_pageloaded");safeEvent(this,u,new Sys.EventArgs(),"Unhandled error in "+f+"_pageloaded event handler.");if(f=="section2"){JT_init()}}else{$("#"+f).html("");this.validateCurrentUser()}}else{if(n=="timeout"){this.validateCurrentUser()}else{if(a.status==404){$("#"+f).html("<span style='color:#f00;'>Error: 404 ["+b+"]</span>")}else{var k=document.createElement("DIV");k.innerHTML=a.responseText;$("#"+f).html("<span style='color:#f00;'>Error: "+$(k).children("span").children("H2").text()+"</span>")}}}},_resetFilteredData:function(a,f){if(!a){a="section2"}if(f==null){f=0}var b=this._controls[a];if(b){for(var d=0;d<b.length;d++){var e=Sys.Application.findComponent(b[d].id);if(e){if(e.get_masterTableView&&((!e.get_autoUpdate&&e.ClientSettings.DataBinding&&e.ClientSettings.DataBinding.Location)||(e.get_autoUpdate&&e.get_autoUpdate()&&e.get_drillDownLevel()>=f))){e.get_masterTableView().get_filterExpressions().clear();this._setDataFilters(e,b[d].data,e.get_drillDownLevel?e.get_drillDownLevel():0)}else{if(e.get_autoUpdate&&e.get_autoUpdate()&&e.get_drillDownLevel()>=f){if(Pathfinder.UI.ThinGrid.isInstanceOfType(e)){e.set_params(this.get_SelectionData(f));e.dataBind()}else{throw new Error("Auto update behavior not defined for registered component.")}}}}}}},togglePlanInfoGridFilters:function(){if(this.get_PlanInfoGrid()){var a=this.get_PlanInfoGrid().get_masterTableView();var d=a.get_tableFilterRow();var c=d.style.display!=""&&d.style.display!="none";if(!c){$(d).show();var b=this.get_Channel();if(b.length>1||$.inArray(0,b)>-1){$("#ctl00_main_planInfo_gridPlanInfo_GridHeader .RadComboBox").hide()}else{$("#ctl00_main_planInfo_gridPlanInfo_GridHeader .RadComboBox").show()}}else{$(d).hide()}this.get_ApplicationManager().resize()}},togglePlanSectionSelectGridFilters:function(){if(this.get_PlanSectionSelectGrid()){var a=this.get_PlanSectionSelectGrid().get_masterTableView();var c=a.get_tableFilterRow();var b=c.style.display!=""&&c.style.display!="none";if(!b){$(c).show()}else{$(c).hide()}this.get_ApplicationManager().resize()}},_onContactSearch:function(a){$openWindow("todaysaccounts/all/contactsearch.aspx")},_updateHistory:function(){if(this._trackingEnabled){var a=this.get_CurrentUIStateAsText();if(a!=this._history[this._currentHistoryIndex+1]){this._currentHistoryIndex++;$get("_clientmanagerhistory").contentWindow.location=this.get_BasePath()+"/content/history.aspx#"+this._currentHistoryIndex;this._history[this._currentHistoryIndex]=a}}},_onHistoryChange:function(b){if(b.target.readyState=="complete"||b.type=="load"){var c=b.target.contentWindow.location.hash;if(c!=null&&c!=""){c=c.substr(1);c=parseInt(c,10);if(this._currentHistoryIndex>-1&&c!=this._currentHistoryIndex){var a=this._history[c];this._currentHistoryIndex=c;this._trackingEnabled=false;this.set_CurrentUIState(a);this.restoreView();this._trackingEnabled=true;setPageUIState(this)}}}},about:function(){about()},customerSupport:function(){},terms:function(){terms()},disclaimer:function(){disclaimer()},changePassword:function(){changePassword()},cleanSelectionData:function(b){var c={};for(var a in b){if(b[a]&&b[a].value){if($.isArray(b[a].value)){c[a]=b[a].value.join(",")}else{c[a]=b[a].value}}else{c[a]=b[a]}}return c}};Pathfinder.UI.ClientManager.registerClass("Pathfinder.UI.ClientManager",Sys.UI.Control);function safeEvent(c,b,d,f){if(b){try{b(c,d)}catch(a){if(f){f=f+"<br /><br />"+a.description}else{f=a.description}$alert(f,"Error",null,null,Pathfinder.UI.AlertType.Error);processing=0;$(".viewSelect span:first").css({color:"#2d58a8"},500)}}}Pathfinder.UI.GridWrapper=function(a){Pathfinder.UI.GridWrapper.initializeBase(this,[a]);this._staticData=null;this._pagerSelector=null;this._autoUpdate=true;this._requiresFilter=true;this._autoLoad=false;this._loadingText="";this._noRowsText=null;this._showLoading=true;this._mergeRows=true;this._sortOrder=null;this._customPaging=false;this._drillDownLevel=0;this._suspendUI=false;this._clientManager=null;this._refreshCount=true;this._showNumberOfRecords=true;this._expand=null;this._inlineCountEnabled=false;this._onDataBindingDelegate=null;this._onDataBoundDelegate=null;this._onCommandDelegate=null;this._onRecordCountCallbackDelegate=null;this._utcDateColumns=null;this._listFormat="csv";this._containerID=null};Pathfinder.UI.GridWrapper.prototype={initialize:function(){Pathfinder.UI.GridWrapper.callBaseMethod(this,"initialize");this.get_element().control.GridWrapper=this;if(this.get_clientManager()){this.get_clientManager().registerComponent(this.get_id(),this.get_staticData(),this.get_autoUpdate(),this.get_containerID(),this.get_drillDownLevel())}this._onRecordCountCallbackDelegate=Function.createDelegate(this,this._onRecordCountCallback);var a=this.get_grid();a.add_command((this._onCommandDelegate=Function.createDelegate(this,this._onCommand)));a.add_dataBinding((this._onDataBindingDelegate=Function.createDelegate(this,this._onDataBinding)));a.add_dataBound((this._onDataBoundDelegate=Function.createDelegate(this,this._onDataBound)));$("#"+a.get_element().id+" th:first").addClass("firstCol");$(this.get_masterTableView().get_tableFilterRow()).children("TD:first").addClass("firstCol");this._configureSorting();this._prepDynamicColumns();if(this.get_autoLoad()){this._dataBind()}},dispose:function(){var c=this.get_element().control;if(c){c.GridWrapper=null}var b=this.get_grid();if(b){try{b.remove_command(this._onCommandDelegate)}catch(a){}try{b.remove_dataBinding(this._onDataBindingDelegate)}catch(a){}try{b.remove_dataBound(this._onDataBoundDelegate)}catch(a){}delete (this._onCommandDelegate);delete (this._onDataBindingDelegate);delete (this._onDataBoundDelegate);delete (this._onRecordCountCallbackDelegate);$disposeTelerikGrid(b)}Pathfinder.UI.GridWrapper.callBaseMethod(this,"dispose")},add_dataBinding:function(a){this.get_events().addHandler("databinding",a)},remove_dataBinding:function(a){this.get_events().removeHandler("databinding",a)},add_dataBound:function(a){this.get_events().addHandler("databound",a)},remove_dataBound:function(a){this.get_events().removeHandler("databound",a)},add_recordCountChanged:function(a){this.get_events().addHandler("recordcountchanged",a)},remove_recordCountChanged:function(a){this.get_events().removeHandler("recordcountchanged",a)},get_clientManager:function(){if(!this._clientManager){this._clientManager=window.top.clientManager}return this._clientManager},get_inlineCountEnabled:function(){return this._inlineCountEnabled},set_inlineCountEnabled:function(a){this._inlineCountEnabled=a},get_expand:function(){return this._expand},set_expand:function(a){this._expand=a},get_listFormat:function(){return this._listFormat},set_listFormat:function(a){this._listFormat=a},get_containerID:function(){return this._containerID},set_containerID:function(a){this._containerID=a},get_grid:function(){var a=this.get_element();if(a){return a.control}return null},get_masterTableView:function(){var a=this.get_grid();if(a){return a.get_masterTableView()}return null},get_supportsDynamicColumns:function(){return false},get_drillDownLevel:function(){return this._drillDownLevel},set_drillDownLevel:function(a){if(a==null){a=0}this._drillDownLevel=a},get_autoLoad:function(){return this._autoLoad},set_autoLoad:function(a){this._autoLoad=a},get_autoUpdate:function(){return this._autoUpdate},set_autoUpdate:function(a){this._autoUpdate=a},get_staticData:function(){return this._staticData},set_staticData:function(value){if(value){this._staticData=eval("["+value+"]")[0]}else{this._staticData=null}},get_showNumberOfRecords:function(){return this._showNumberOfRecords},set_showNumberOfRecords:function(a){this._showNumberOfRecords=a},get_pagerSelector:function(){return this._pagerSelector},set_pagerSelector:function(a){this._pagerSelector=a},get_mergeRows:function(){return this._mergeRows},set_mergeRows:function(a){this._mergeRows=a},get_sortOrder:function(){return this._sortOrder},set_sortOrder:function(a){this._sortOrder=a},get_customPaging:function(){return this._customPaging===true},set_customPaging:function(a){this._customPaging=a},get_requiresFilter:function(){return this._requiresFilter},set_requiresFilter:function(a){this._requiresFilter=a},get_loadingText:function(){return this._loadingText},set_loadingText:function(a){this._loadingText=a},get_noRecordsText:function(){if(this._noRecordsText){return this._noRecordsText}else{if(this.get_loadingText()){return" "}}return null},set_noRecordsText:function(a){this._noRecordsText=a},get_utcDateColumns:function(){return this._utcDateColumns},set_utcDateColumns:function(a){this._utcDateColumns=a},get_showLoading:function(){return this._showLoading},set_showLoading:function(a){this._showLoading=a},get_preProcessFunction:function(){if(this._utcDateColumns||this.get_expand()){var isBull=this.get_listFormat()=="bull";var isCsv=this.get_listFormat()=="csv";var lstart=(this.get_listFormat()=="bull"?"<li>":"");var lend=(this.get_listFormat()=="bull"?"</li>":(!this.get_listFormat()?"<br />":""));return function(data,grid){function adjustDateTime(dt){if(dt){dt=eval("new "+dt.replace(new RegExp("/","ig"),""));
if(!isNaN(dt)){dt="/Date("+dt.setMinutes(dt.getMinutes()+dt.getTimezoneOffset())+")/"}else{return""}}return dt}var gw=grid.get_masterTableView?grid.GridWrapper:grid.get_parent().GridWrapper;if(gw){var col;var props;var prop;var csv;var cols=gw.get_utcDateColumns()?gw.get_utcDateColumns().replace(/ /ig,"").split(","):[];var rel=$.grep(grid._data._columnsData,function(i,x){return i.DataField&&i.DataField.indexOf(".")>-1});for(var i=0;i<data.length;i++){for(var c=0;c<cols.length;c++){col=cols[c];data[i][col]=adjustDateTime(data[i][col])}for(var c=0;c<rel.length;c++){col=rel[c].DataField;props=col.split(".");prop=data[i][props[0]];if(prop){if(!prop.results){data[i][col]=prop[props[1]]}else{csv="";if(isBull){csv="<ul>"}prop=prop.results.sort(function(a,b){a=a[props[1]].toUpperCase();b=b[props[1]].toUpperCase();if(a>b){return 1}else{if(a<b){return -1}else{return 0}}});for(var x=0;x<prop.length;x++){if(isCsv){csv+=(csv.length>0?", ":"")}csv+=lstart+prop[x][props[1]]+lend}if(isBull){csv+="</ul>"}data[i][col]=csv}}}}}}}},get_SortString:function(){return this.get_masterTableView().get_sortExpressions().toString()},scrollToSelection:function(){var c=this.get_masterTableView();var b=c.get_selectedItems();var f=0;if(b&&b.length>0){var g=b[0].get_element();var a=Sys.UI.DomElement.getBounds(g).height;var e=g.parentNode.rows;for(var d=0;d<g.rowIndex;d++){f+=Sys.UI.DomElement.getBounds(e[d]).height}if((f+a)<$(c.get_element()).parent().height()){f=0}}$(c.get_element()).parent().scrollTop(f)},canDataBind:function(){return !this.get_requiresFilter()||this.get_masterTableView().get_filterExpressions().get_count()>0},dataBind:function(){this._refreshCount=true;this._dataBind()},_dataBind:function(){if(this._suspendUI){return}if(this.canDataBind()){var e=this.get_events().getHandler("databinding");if(e){var c={cancel:false,refreshing:this._refreshCount,get_cancel:function(){return this.cancel},set_cancel:function(h){this.cancel=h}};e(this,c);if(c.get_cancel()){return}}var a=this.get_masterTableView();var d=a.get_parent().ClientSettings.DataBinding;var b=d.Location+"/";var g="";if(this.get_loadingText()){$(a.get_element().rows[a.get_element().rows.length-1].cells[0]).text(this.get_loadingText())}if(this.get_pagerSelector()&&this.get_showLoading()){$(this.get_pagerSelector()+(this._refreshCount?"":" .pagerText")).html("<span class='loading'>"+this.get_loadingText()+"</span>")}if(this.get_customPaging()){if(!a.get_filterExpressions().find("Page_Index")){$setGridFilter(a,"Page_Index",0,"EqualTo","System.Int32")}}if(this._refreshCount){a.CurrentPageIndex=0}if(d.DataService&&d.DataService.TableName){b+=d.DataService.TableName;g=$getDataServiceQuery(a)}else{b+=d.SelectMethod;g=$getWebServiceQuery(a)}$refreshGridData(a,b,g,this.get_preProcessFunction());if(!this.get_inlineCountEnabled()&&this._refreshCount){if(d.SelectCountMethod){var f=d.Location+"/"+d.SelectCountMethod;var i="";if(d.DataService&&d.DataService.TableName){i="where='"+$getFilterTextForServiceRequest(a,this.get_customPaging())+"'"}else{i=$getWebServiceQuery(a)}$.getJSON(f+"?"+i,null,this._onRecordCountCallbackDelegate)}}}else{this.clearGrid()}},clearGrid:function(){this._suspendUI=true;var a=this.get_masterTableView();a.set_dataSource([]);a.dataBind();if(this.get_pagerSelector()){$(this.get_pagerSelector()).html("")}this._hdrFixUp();this._suspendUI=false},_onCommand:function(e,g){this._refreshCount=g.get_commandName()=="RebindGrid";if(g.get_commandName()=="Sort"){var c=g.get_commandArgument();var a=e.get_masterTableView();var f=a.getColumnByUniqueName(c);if(f==null){return}var n=f.get_dataType();if((n=="System.Double"||n=="System.Decimal"||n=="System.Int16"||n=="System.Int32"||n=="System.Int64")){var m=a.get_sortExpressions();var l=String.format("#{0}__{1}__SortAsc",a.get_id(),c);var k=String.format("#{0}__{1}__SortDesc",a.get_id(),c);$(l+","+k).hide();var j=$.grep(m._array,function(p,o){return p.FieldName==c});var b;if(j.length>0){for(var d=0;d<j.length;d++){b=j[d].get_sortOrder();if(b==1){j[d].set_sortOrder(2);$(k).show()}else{m.remove(j[d])}}}else{var h=new Telerik.Web.UI.GridSortExpression();h.set_fieldName(c);h.set_sortOrder(1);m.add(h);$(l).show()}}}this._dataBind()},_onDataBinding:function(b,a){a.set_cancel(true)},_onDataBound:function(c,b){if(this._suspendUI){return}if(this.canDataBind()){var a=this.get_masterTableView();if(this.get_noRecordsText()){$(a.get_element().rows[a.get_element().rows.length-1].cells[0]).text(this.get_noRecordsText())}if(this.get_mergeRows()&&!(ie6||ie7)){$mergeGridCells(this.get_grid())}this._hdrFixUp();var d=this.get_events().getHandler("databound");if(d){d(this,new Sys.EventArgs())}this.get_masterTableView().set_allowMultiColumnSorting(false)}else{this.clearGrid()}},_hdrFixUp:function(){if(mac&safari){resetGridHeadersX(500)}padScrollbar(this.get_masterTableView().get_element())},_configureSorting:function(){var g=this.get_sortOrder();if(g!=null){var b=this.get_masterTableView();var c=b.get_sortExpressions();var h;var a;var f;var e;g=g.split(",");for(var d=0;d<g.length;d++){h=new Telerik.Web.UI.GridSortExpression();a=$.trim(g[d]).split(" ");h.set_fieldName(a[0]);f=a[1]!="DESC";h.set_sortOrder(f?1:2);c.add(h);if(b.getColumnByUniqueName(a[0])){e=$(b.getColumnByUniqueName(a[0]).get_element()).children("input");if(e.length>2){$(e[0]).hide();$(e[f?1:2]).show()}}}}},_prepDynamicColumns:function(){if(this.get_supportsDynamicColumns()){var b=this.get_grid();if($.browser.msie&&$.browser.version<8){$(b.get_masterTableViewHeader().get_element().parentNode).addClass("rgHeaderDivPlanInfo")}var c=b.get_masterTableViewHeader().get_element().rows;var a=b.get_masterTableView().get_element().rows;$(b.get_masterTableViewHeader().get_element()).find("col").each(function(d){var e=a[0].cells[d].className.split(" ");e=e[e.length-1];if(e){$(c[0].cells[d]).addClass(e);if(c[1].cells.length>d){c[1].cells[d].className=e}}});$(b.get_element()).find("colgroup").remove()}},updateRecordCount:function(a){this._onRecordCountCallback(a)},_onRecordCountCallback:function(f){this._refreshCount=false;var c="";var b=this.get_masterTableView();if(b){var e=0;if(isNaN(f)){for(var a in f.d){e=f.d[a]}}else{e=parseInt(f,10)}b.set_virtualItemCount(e);var d=this.get_events().getHandler("recordcountchanged");if(d){d(this,new Sys.EventArgs())}if(this.get_pagerSelector()!=null&&this.get_pagerSelector()!=""){if(e>0){c=$constructCustomPager(b,e,false,this.get_clientManager()?this.get_clientManager().get_BasePath():"/",this.get_customPaging())}$(this.get_pagerSelector()).html(c)}}}};Pathfinder.UI.GridWrapper.registerClass("Pathfinder.UI.GridWrapper",Sys.UI.Behavior);Pathfinder.UI.GridFilterExpression=function(){Pathfinder.UI.GridFilterExpression.initializeBase(this);this.isExtension=false};Pathfinder.UI.GridFilterExpression.prototype={get_isExtension:function(){return this.isExtension},set_isExtension:function(a){this.isExtension=a},get_extensionFilterText:function(){return String.format("&{0}={1}",encodeURIComponent(this.get_fieldName()),encodeURIComponent(this.get_fieldValue()))}};Sys.Application.add_init(function(){try{if(Telerik.Web.UI.GridFilterExpression){Pathfinder.UI.GridFilterExpression.registerClass("Pathfinder.UI.GridFilterExpression",Telerik.Web.UI.GridFilterExpression)}}catch(a){}});Pathfinder.UI.PlanInfoGridWrapper=function(a){Pathfinder.UI.PlanInfoGridWrapper.initializeBase(this,[a]);this._totalLivesHdrText="";this._planTypeHdrText="";this._restrictByTerritory=false;this._onRowSelectedDelegate=null};Pathfinder.UI.PlanInfoGridWrapper.prototype={initialize:function(){Pathfinder.UI.PlanInfoGridWrapper.callBaseMethod(this,"initialize");$(this.get_element()).css("visibility","hidden").addClass("notbound");var a=this.get_grid();var b=a.get_masterTableView().getColumnByUniqueName("Total_Covered");if(b){this._totalLivesHdrText=$(b.get_element()).find("a").text()}var b=a.get_masterTableView().getColumnByUniqueName("Plan_Type_Name");if(b){this._planTypeHdrText=$(b.get_element()).find("a").text()}var b=a.get_masterTableView().getColumnByUniqueName("Total_Pharmacy");if(b){this._totalPharmHdrText=$(b.get_element()).find("a").text()}var b=a.get_masterTableView().getColumnByUniqueName("Rx_Lives");if(b){this._rxLivesHdrText=$(b.get_element()).find("a").text()}a.add_rowSelected((this._onRowSelectedDelegate=Function.createDelegate(this,this._onRowSelected)))},dispose:function(){delete (this._onPlanGridRowSelectedDelegate);Pathfinder.UI.PlanInfoGridWrapper.callBaseMethod(this,"dispose")},get_containerID:function(){return"divTile2Plans"},get_showLoading:function(){return false},set_showLoading:function(a){},get_restrictByTerritory:function(){return this._restrictByTerritory},set_restrictByTerritory:function(a){clientManager.setContextValue("restrictByTerritory",a);this._restrictByTerritory=a;this.dataBind()},_dataBind:function(){var e=this.get_clientManager();var a=this.get_grid();if(e){var b=e.get_Channel();var c=e.get_Region();var f=e.get_clientHasCustomPlans();if((b.length==1)&&($.inArray(12,b)>-1||$.inArray(11,b)>-1)){a.ClientSettings.DataBinding.Location=e.get_ApplicationManager().get_ServiceUrl();var h=a.get_masterTableView().get_sortExpressions();if(h.get_count()>0){var i=new Telerik.Web.UI.GridSortExpression();i.set_fieldName(h._array[0]._fieldName);i.set_sortOrder(h._array[0]._sortOrder)}a.get_masterTableView().sort("Custom_Sort DESC");if(i){a.get_masterTableView()._sortExpressions.add(i)}}else{if(parseInt(b.toString())>100){a.ClientSettings.DataBinding.Location="custom/"+e.get_ApplicationManager().get_clientKey()+"/todaysaccounts/services/CustomSegmentsDataService.svc"}else{a.ClientSettings.DataBinding.Location=e.get_ApplicationManager().get_ServiceUrl()}if(a.get_masterTableView().get_sortExpressions().get_count()>0&&a.get_masterTableView().get_sortExpressions()._array[0]._fieldName=="Custom_Sort"){a.get_masterTableView().sort("Plan_Name ASC")}else{if(b.length>1||$.inArray(0,b)>-1){a.get_masterTableView()._sortExpressions.clear();var i=new Telerik.Web.UI.GridSortExpression();i.set_fieldName("Plan_Name");
i.set_sortOrder(Telerik.Web.UI.GridSortOrder.Ascending);a.get_masterTableView()._sortExpressions.add(i);a.get_masterTableView()._showSortIconForField("Plan_Name",Telerik.Web.UI.GridSortOrder.None);i=new Telerik.Web.UI.GridSortExpression();i.set_fieldName("Plan_State");i.set_sortOrder(Telerik.Web.UI.GridSortOrder.Ascending);a.get_masterTableView()._sortExpressions.add(i);a.get_masterTableView()._showSortIconForField("Plan_State",Telerik.Web.UI.GridSortOrder.None);i=new Telerik.Web.UI.GridSortExpression();i.set_fieldName("Section_Name");i.set_sortOrder(Telerik.Web.UI.GridSortOrder.Ascending);a.get_masterTableView()._sortExpressions.add(i);a.get_masterTableView()._showSortIconForField("Section_Name",Telerik.Web.UI.GridSortOrder.None)}else{if(a.get_masterTableView().get_sortExpressions().get_count()>1){a.get_masterTableView()._sortExpressions.clear();a.get_masterTableView().sort("Plan_Name ASC")}}}}var g=this.get_restrictByTerritory()?"ByTerritory":"";if(g){if(b&&b.length==1&&$.inArray(107,b)==0){a.get_masterTableView()._sortExpressions.clear();i=new Telerik.Web.UI.GridSortExpression();i.set_fieldName("Custom_Plan_Rank");i.set_sortOrder(Telerik.Web.UI.GridSortOrder.Ascending);a.get_masterTableView()._sortExpressions.add(i);a.get_masterTableView()._showSortIconForField("Plan_Name",Telerik.Web.UI.GridSortOrder.None)}else{if(a.get_masterTableView()._sortExpressions.toList()[0].get_fieldName()=="Custom_Plan_Rank"){a.get_masterTableView()._sortExpressions.clear();var d=new Telerik.Web.UI.GridSortExpression();d.set_fieldName("Plan_Name");d.set_sortOrder(Telerik.Web.UI.GridSortOrder.Ascending);a.get_masterTableView()._sortExpressions.add(d);a.get_masterTableView()._showSortIconForField("Plan_Name",Telerik.Web.UI.GridSortOrder.Ascending)}}}else{var i=new Telerik.Web.UI.GridSortExpression();i.set_fieldName("Custom_Plan_Rank");i.set_sortOrder(Telerik.Web.UI.GridSortOrder.Ascending);if(a.get_masterTableView()._sortExpressions.toList()[0].get_fieldName()=="Custom_Plan_Rank"){a.get_masterTableView()._sortExpressions.clear();var d=new Telerik.Web.UI.GridSortExpression();d.set_fieldName("Plan_Name");d.set_sortOrder(Telerik.Web.UI.GridSortOrder.Ascending);a.get_masterTableView()._sortExpressions.add(d);a.get_masterTableView()._showSortIconForField("Plan_Name",Telerik.Web.UI.GridSortOrder.Ascending)}}a.ClientSettings.DataBinding.DataService.TableName=String.format("PlanInfoListView{0}Set",g);Pathfinder.UI.PlanInfoGridWrapper.callBaseMethod(this,"_dataBind")}},_onCommand:function(d,b){if(b.get_commandName()=="Sort"){var a=this.get_clientManager();var c=this.get_grid();if(a){var e=a.get_Channel();if(e.length>1){b.set_cancel(true);$("#ctl00_main_planInfo_gridPlanInfo .rgSortAsc, #ctl00_main_planInfo_gridPlanInfo .rgSortDesc").hide();return}}}Pathfinder.UI.PlanInfoGridWrapper.callBaseMethod(this,"_onCommand",[d,b])},_onRowSelected:function(g,l){var p=this.get_clientManager();$("#infoPopup").hide();var n=g.get_masterTableView().get_clientDataKeyNames();var f={};for(var h=0;h<n.length;h++){f[n[h]]=l.getDataKeyValue(n[h])}if(p.get_Channel()[0]!=107){if(f){delete (f.VISN)}}var a=l.get_gridDataItem().get_dataItem();var e=0;if($.inArray(1,p.get_Channel())>-1){e++}if($.inArray(6,p.get_Channel())>-1){e++}if($.inArray(17,p.get_Channel())>-1){e++}var k=0;var b=[];if(a.Has_Commercial_Business){b.push(1)}if(a.Has_Managed_Medicaid_Business){b.push(6)}if(a.Has_Medicare_PartD_Business){b.push(17)}$(g.get_masterTableView().get_element()).find(".rgSelectedRow").removeClass("rgSelectedRow");var m=f.Plan_ID;var d=0;for(var h=0;h<=(g.get_masterTableView().get_dataItems().length-1);h++){var c=g.get_masterTableView().get_dataItems()[h];var j=c.get_dataItem();if(j!=null){if(j.Plan_ID==m){$(c.get_element()).addClass("rgSelectedRow");d++}}}if(d>1&&(p.get_Channel().length>1||$.inArray(0,p.get_Channel())>-1)){if($.inArray(0,p.get_Channel())>-1){f.Original_Section=b}else{f.Original_Section=p.get_Channel()}if(p.get_Channel()[0]>100){p.set_EffectiveChannel(a.Section_ID)}else{p.set_EffectiveChannel(99);f.Section_ID=99}}else{p.set_EffectiveChannel(a.Section_ID)}if(p.get_EffectiveChannel()==17){if(p.get_Region()){f.Plan_State=a.Plan_State}f.Prod_ID=a.Prod_ID}var o=p.get_Region();if(p.get_EffectiveChannel()==1||p.get_EffectiveChannel()==99||p.get_EffectiveChannel()==4||p.get_EffectiveChannel()==6||p.get_EffectiveChannel()==11||p.get_EffectiveChannel()==12){if(l.get_item().get_dataItem().Plan_Classification_ID==1||p.get_EffectiveChannel()==4){$("#link_affiliations").show()}else{$("#link_affiliations").hide();if(p.get_Module()=="affiliations"){if(!p._selectionData){p._selectionData=[]}p._selectionData[0]=f;p.set_Module("planinformation");p.get_ApplicationManager().get_ModuleMenu().highlightItem("link_planinformation");return}}if(p.get_EffectiveChannel()==11||p.get_EffectiveChannel()==12){if(l.get_item().get_dataItem().Plan_Classification_ID==1){$("#link_coveredlives").show()}else{$("#link_coveredlives").hide()}}}else{if(p.get_EffectiveChannel()==17){if(!o){$("#link_affiliations").show()}else{$("#link_affiliations").hide();if(p.get_Module()=="affiliations"){if(!p._selectionData){p._selectionData=[]}p._selectionData[0]=f;p.set_Module("planinformation");p.get_ApplicationManager().get_ModuleMenu().highlightItem("link_planinformation");return}}}else{if((p.get_Channel()[0]==105)||(p.get_Channel()[0]==106)||(p.get_Channel()[0]==107)||(p.get_Channel()[0]==108)){if((l.get_item().get_dataItem().Plan_Classification_ID==1)&&(p.get_Channel()[0]==107)){$("#link_affiliations").show();if(p.get_Module()=="affiliations"){f.VISN=a.VISN}else{if(f){delete (f.VISN)}}}else{$("#link_affiliations").hide();if(f){delete (f.VISN)}if(p.get_Module()=="affiliations"){if(!p._selectionData){p._selectionData=[]}p._selectionData[0]=f;p.set_Module("planinformation");p.get_ApplicationManager().get_ModuleMenu().highlightItem("link_planinformation");return}}if(p.get_Module()=="contacts"){if(!p._selectionData){p._selectionData=[]}p._selectionData[0]=f;p.set_Module("planinformation");p.get_ApplicationManager().get_ModuleMenu().highlightItem("link_planinformation");return}}}}if(p.get_SelectionData()==null||f.Plan_ID!=p.get_SelectionData()["Plan_ID"]||f.Prod_ID!=p.get_SelectionData()["Prod_ID"]){delete (f.Section_ID);new cmd(p,"set_SelectionData",[f],10)}},_onDataBound:function(e,d){Pathfinder.UI.PlanInfoGridWrapper.callBaseMethod(this,"_onDataBound",[e,d]);if(!this.get_clientManager()){return}$(this.get_element()).css("visibility","visible").removeClass("notbound");var c=e.get_masterTableView();c.clearSelectedItems();if(c.get_dataSource().length>0){if(this.get_clientManager().get_SelectionData()!=null){var f=this.get_clientManager().get_SelectionData()["Plan_ID"];var b=$.grep(c.get_dataItems(),function(a){return a.get_dataItem()&&a.get_dataItem().Plan_ID==f});if(b&&b.length>0){b[0].set_selected(true)}else{c.selectItem(0)}}else{c.selectItem(0)}}else{this.get_clientManager()._setSelectionData(null,0,false)}this.adjustPlanInfoGridColumns(c);this.scrollToSelection();if($(c.get_tableFilterRow()).children("TD").find("INPUT[value != ''][type=text]").length>0){$("#resetPlans").show()}else{$("#resetPlans").hide()}resizeSearchTextBox()},_hdrFixUp:function(){resetGridHeaders()},get_supportsDynamicColumns:function(){return true},adjustPlanInfoGridColumns:function(a){var j="";var q="";var g=this._totalLivesHdrText;var i=this._planTypeHdrText;var d=this._totalPharmHdrText;var h=this._rxLivesHdrText;var k=this.get_clientManager().get_Channel();var o=this.get_clientManager().get_Region();if(k.length==1){k=parseInt(k.toString(),10);switch(k){case 0:q=".secName, .totalLives, .rxLives, .employerLives, .formularyManagedBy";j=".planType, .VISN, .macJur";break;case 1:q=".planType, .totalLives, .rxLives, .formularyManagedBy";j=".VISN, .macJur, .secName, .employerLives";g="Medical Lives";break;case 99:q=".planType, .totalLives, .rxLives, .formularyManagedBy";j=".VISN, .macJur, .secName, .employerLives";break;case 6:q=".planType, .totalLives, .rxLives, .formularyManagedBy";j=".VISN, .macJur, .secName, .employerLives";break;case 4:q=".totalLives, .rxLives, .employerLives, .formularyManagedBy";j=".planType, .VISN, .macJur, .secName";break;case 9:q=".totalLives, .rxLives, .formularyManagedBy";j=".planType, .VISN, .macJur, .secName, .employerLives";h="FFS Lives";break;case 14:q=".totalLives, .rxLives, .formularyManagedBy";j=".planType, .VISN, .macJur, .secName, .employerLives";break;case 5:q=".planType, .totalLives, .rxLives, .formularyManagedBy";j=".VISN, .macJur, .secName, .employerLives";break;case 11:q=".VISN, .totalLives, .rxLives, .formularyManagedBy";j=".planType, .macJur, .secName, .employerLives";break;case 3:case 12:q=".totalLives, .rxLives, .formularyManagedBy";j=".VISN, .planType, .macJur, .secName, .employerLives";break;case 15:q="";j=".planType, .VISN, .macJur, .secName, .employerLives, .totalLives, .rxLives, .formularyManagedBy";break;case 2:q=".totalLives, .rxLives";j=".formularyManagedBy, .planType, .totalPharm, .VISN, .macJur, .secName, .employerLives";break;case 13:q=".totalLives, .rxLives, .formularyManagedBy";j=".planType, .totalPharm, .VISN, .macJur, .secName, .employerLives";break;case 16:q=".rxLives,  .macJur";j=".formularyManagedBy, .totalLives, .planType, .VISN, .secName, .employerLives";break;case 17:q=".planType, .totalLives, .rxLives, .formularyManagedBy";j=".VISN, .macJur, .secName, .employerLives";break;case 20:q=".planType, .totalLives, .rxLives, .formularyManagedBy";j=".VISN, .macJur, .secName, .employerLives";break;case 105:case 106:q="";j=".planCity, .planType, .VISN, .macJur, .secName, .employerLives, .totalLives, .rxLives, .formularyManagedBy";break;case 107:q=".planCity, .VISN";j=".planType, .macJur, .secName, .employerLives, .totalLives, .rxLives, .formularyManagedBy";break;case 108:q="";j=".planCity, .planType, .VISN, .macJur, .secName, .employerLives, .totalLives, .rxLives, .formularyManagedBy";break;default:q=".planType";j=".planCity, .VISN, .macJur, .secName, .employerLives, .totalLives, .rxLives, .formularyManagedBy";
var l=a.get_dataSource();if(l&&l.length>0){l=l[0]}break}}else{q=".totalLives, .rxLives, .formularyManagedBy, .secName";j=".planType";if($.inArray(11,k)>-1){q+=", .VISN"}else{j+=", .VISN"}if($.inArray(4,k)>-1){q+=", .employerLives"}else{j+=", .employerLives"}if($.inArray(16,k)>-1){q+=", .macJur"}else{j+=", .macJur"}}var n;if(o){$(".planState").addClass("hiddenGrid");n=0}else{$(".planState").removeClass("hiddenGrid");n=8}var m=this.get_masterTableView().getColumnByUniqueName("Total_Covered");if(m){$(m.get_element()).find("a").text(g)}var m=this.get_masterTableView().getColumnByUniqueName("Plan_Type_Name");if(m){$(m.get_element()).find("a").text(i)}var m=this.get_masterTableView().getColumnByUniqueName("Total_Pharmacy");if(m){$(m.get_element()).find("a").text(d)}var m=this.get_masterTableView().getColumnByUniqueName("Rx_Lives");if(m){$(m.get_element()).find("a").text(h)}var e=0;if(q==""){$(".planState").width("10%");if(k==105||k==106||k==107||k==108){$(".planState").addClass("notmerged");$(j).css("display","none")}$(".planName").width("90%");grid_resize()}else{if(q!=""){e=q.split(",").length}var b="45%";if(e>1){b=($(window).width()>1024?22:30);var f=100-((b)+n);$(q).css("display","").width(Math.ceil(f/e)+"%");b+="%"}else{if(e==1){b="39%";$(q).css("display","").width("14%")}}$(j).css("display","none");if(k==105||k==106||k==107){$(".planState").width("10%")}else{if(k>100&&k<105){$(".planState").width("47%")}else{$(".planState").width("8%")}}if(k==105||k==106||k==108){$(".planName").width("80%")}else{if(k==107){$(".planName").width("60%");$(".planCity").width("20%");$(".VISN").width("20%")}else{$(".planName").width(b)}}grid_resize()}}};Pathfinder.UI.PlanInfoGridWrapper.registerClass("Pathfinder.UI.PlanInfoGridWrapper",Pathfinder.UI.GridWrapper);Pathfinder.UI.FormularyDrillDownGridWrapper=function(a){Pathfinder.UI.FormularyDrillDownGridWrapper.initializeBase(this,[a])};Pathfinder.UI.FormularyDrillDownGridWrapper.prototype={get_supportsDynamicColumns:function(){return true},get_SortString:function(){var a=this.get_masterTableView().get_sortExpressions().toString();if(this._getSelectedChannel()!=17){a=a.replace(/(,)?Product_Name (ASC|DESC)/ig,"");if(a.indexOf(",")==0){a=a.substr(1)}}return a},_onDataBound:function(b,a){Pathfinder.UI.FormularyDrillDownGridWrapper.callBaseMethod(this,"_onDataBound",[b,a]);this.adjustGridColumns()},_prepDynamicColumns:function(){Pathfinder.UI.FormularyDrillDownGridWrapper.callBaseMethod(this,"_prepDynamicColumns");$(".planName").width("12%");$(".geogName").width("11%");$(".totalLives").width("8%");$(".pharmacyLives").width("8%");$(".drugName").width("12%");$(".prodName").width("11%");$(".formularyName").width("11%");$(".formularyLives").width("7%");$(".tierName").width("4%");$(".copayRange").width("7%");$(".paCol").width("3%");$(".stCol").width("3%");$(".qlCol").width("3%")},_getSelectedChannel:function(){return this.get_clientManager().get_Channel()},adjustGridColumns:function(){var b="";var a="";var c=this._getSelectedChannel();switch(c){default:$(".prodName").css("display","none").width(0);$(".planName").width("23%");$(".tierName").css("display","").width("4%");break;case"9":$(".prodName").css("display","none").width(0);$(".tierName").css("display","none").width(0);$(".planName").width("27%");break;case"17":$("th.prodName").css("display","").width("11%");$(".prodName[_xcol=false]").css("display","").width("11%");$(".planName").width("12%");$(".tierName").css("display","").width("4%");break}grid_resize()}};Pathfinder.UI.FormularyDrillDownGridWrapper.registerClass("Pathfinder.UI.FormularyDrillDownGridWrapper",Pathfinder.UI.GridWrapper);if(typeof(Sys)!=="undefined"){Sys.Application.notifyScriptLoaded()}function onPlanInfoDataBinding(b,a){b.remove_dataBinding(onPlanInfoDataBinding);a.set_cancel(true)}function onGridDataBinding(b,a){a.set_cancel(b.get_masterTableView().get_filterExpressions().get_count()==0)}function onFilterPlansByVISN(a,b){if(typeof b=="object"){b=b.get_item().get_value()}softSet("filterPlans",["VISN",b,null,"System.Int32"],150)}function onFilterPlansByState(b,a){softSet("filterPlans",["Plan_State",a.get_item().get_value()],150)}function onFilterPlansByCoveredLives(b,a){softSet("filterPlans",["Total_Covered",$.trim(a.get_item().get_value()).split(","),"Between","System.Int32"],150)}function onFilterPlansByMedicalLives(b,a){softSet("filterPlans",["Medical_Lives",$.trim(a.get_item().get_value()).split(","),"Between","System.Int32"],150)}function onFilterPlansByRxLives(b,a){softSet("filterPlans",["Rx_Lives",$.trim(a.get_item().get_value()).split(","),"Between","System.Int32"],150)}function onFilterPlansByEmployerLives(b,a){softSet("filterPlans",["Employer_Lives",$.trim(a.get_item().get_value()).split(","),"Between","System.Int32"],150)}function onFilterPlansByPharmacyLives(b,a){softSet("filterPlans",["Total_Pharmacy",$.trim(a.get_item().get_value()).split(","),"Between","System.Int32"],150)}function onFilterPlansByMedicaidLives(b,a){softSet("filterPlans",["Medicaid_Mcare_Enrollment",a.get_item().get_value(),"Between","System.Int32"],150)}function onFilterPlansByPlanType(b,a){softSet("filterPlans",["Plan_Type_ID",a.get_item().get_value(),null,"System.Int32"],150)}function onFilterPlansBySection(b,a){softSet("filterPlans",["Section_ID",a.get_item().get_value(),null,"System.Int32"],150)}function softSet(a,c,b){new cmd(clientManager,a,c,b)}var _cmdQueue={};function cmd(g,a,h,e){var b=g;var f=a;var d=h?h:(b?[]:null);var i=window.setTimeout(c,e);_cmdQueue[i]=this;this.cancel=function(){window.clearTimeout(i);delete (_cmdQueue[i])};function c(){if(b){b[f].apply(b,d)}else{f(d)}if(i){delete (_cmdQueue[i])}}}var __attempts=0;function initMap(b){var a=document[b[0]];if(a&&a.initializeMap){a.initializeMap("areas/maptheme.ashx?s="+b[1])}else{if(__attempts<30){__attempts++;new cmd(null,initMap,b,500)}else{__attempts=0}}}Pathfinder.UI.dataParam=function(c,e,a,d,f,b){this.name=c;this.value=e;if(d){this.filterType=d}if(a){this.dataType=a}if(f){this.src=f}if(b){this.isExtension=b}};Pathfinder.UI.dataParam.prototype={get_value:function(){return this.value},set_value:function(a){this.value=a},get_filterType:function(){return this.filterType},set_filterType:function(a){this.filterType=a},get_dataType:function(){return this.dataType},set_dataType:function(a){this.dataType=a},get_name:function(){return this.name},set_name:function(a){this.name=a},get_src:function(){return this.src},set_src:function(a){this.src=a},get_isExtension:function(){return this.isExtension},set_isExtension:function(a){this.isExtension=a},appendValue:function(a,b){if($.isArray(this.value)){this.value[this.value.length]=a}else{this.value=[this.value,a]}if($.isArray(this.value)&&this.dataType=="System.DateTime"){this.filterType="Between"}if(b){if($.isArray(this.src)){this.src[this.src.length]=b}else{this.src=[this.src,b]}}},getDefaultSplitChart:function(){if(this.filterType&&this.filterType.toLowerCase()=="between"){return" "}return","},getValuesAsArray:function(a){if(!a){a=this.getDefaultSplitChart()}if(typeof this.value=="string"&&this.dataType!="System.String"){return this.value.split(a)}return !$.isArray(this.value)?[this.value]:this.value},resetSrc:function(){var a=this.getValuesAsArray();var g=this.get_src();if(!$.isArray(g)){g=[g]}var f;var e;var c;for(var d=0;d<g.length;d++){f=$find(g[d]);if(f){if(f.get_element().checkboxList||Pathfinder.UI.CheckboxList.isInstanceOfType(f)){if(Pathfinder.UI.CheckboxList.isInstanceOfType(f)){e=f}else{e=f.get_element().checkboxList}c=e.get_booleanOptions();for(var b=0;b<a.length;b++){if(!c){e.selectItem(a[b])}else{e.selectItem(this.name)}}}else{if(f.findItemByValue){f=f.findItemByValue(a[d]);if(f){f.select()}}}}else{$("#"+g[d]+"[type=text]").val(a[d]);$("#"+g[d]+"[type=checkbox]:not(.chkItem)").each(function(){this.checked=true});$("#"+g[d]+".chkItem[type=checkbox]").each(function(){var h=this.parentNode;while(h&&!h.control){h=h.parentNode}if(h){h.control.selectItem(this.id)}})}}}};var _requestIndexes={};jQuery.parseJSON=function(a){if(typeof a!=="string"||!a){return null}a=jQuery.trim(a);return window.JSON&&window.JSON.parse&&($.browser.msie)?window.JSON.parse(a):(new Function("return "+a))()};jQuery.fn.extend({loadEx:function(b,e,i,a,h,f){if(this.length>1){throw new Error("loadEx is not intended to be used when loading web pages into multiple elements.  Use 'load' for those requests.")}var k=this.attr("id");if(!_requestIndexes[k]){_requestIndexes[k]=1}else{_requestIndexes[k]++}var j=_requestIndexes[k];if(typeof b!=="string"){return this._load(b)}var c=b.indexOf(" ");if(c>=0){var d=b.slice(c,b.length);b=b.slice(0,c)}var g="GET";if(e){if(jQuery.isFunction(e)){i=e;e=null}else{if(typeof e==="object"){e=jQuery.param(e);g="POST"}else{if(f===true){g="POST"}}}}var l=this;if(h){this.css("visibility","hidden")}jQuery.ajax({url:b,type:g,dataType:"html",data:e,complete:function(o,m){if(j==_requestIndexes[k]){var p=o.getResponseHeader("__pinsologin")=="true";if(m=="success"||m=="notmodified"){var n=o.responseText;if(d){n=jQuery("<div/>").append(n.replace(/<script(.|\s)*?\/script>/g,"")).find(d)}l.html(n)}if(h){l.css("visibility","visible")}if(i){l.each(i,[o.responseText,!p?m:"timeout",o,b+"?"+e,k,a])}}}});return this}});function onExportMenuItemClicked(b,a){_exportHandler(b,a,false)}function onExportMenuItemClicked2(b,a){_exportHandler(b,a,true)}function _exportHandler(sender,eventArgs,confirm){var item=eventArgs.get_item();if(item==null){return}var args=item.get_value();if(args==null){return}args=$.parseJSON(args);if(confirm){$openWindow("usercontent/confirmexport.aspx?type="+args.type+(args.module?"&module="+args.module:"")+(args.channel?"&channel="+args.channel:"")+(args.exportHandler?"&exportHandler="+args.exportHandler:""),null,null,400,200,"confirmexp")}else{if(!args.exportHandler){clientManager.exportView(args.type,null,args.module,args.channel)}else{eval(args.exportHandler+"("+args.type+", "+args.module+")")}}}function about(){try{$openWindow("usercontent/about.aspx",null,null,600,300,"about")
}catch(a){}}function terms(){try{$openWindow("content/terms.aspx",null,null,800,400,"terms")}catch(a){}}function disclaimer(){try{$openWindow("content/disclaimer.aspx",null,null,800,400,"disclaimer")}catch(a){}}function changePassword(){try{$openWindow("usercontent/changepassword.aspx",null,null,350,225,"changepassword")}catch(a){}}function openPasswordChangeGuide(){var a="PasswordGuidelines.aspx";window.top.open(a,"passwordguide","top=0,left=0,resizable=1,menubar=0,width=400,height=300,status=0,toolbar=0,location=0,scrollbars=1")}function onHelpMenuItemClicked(b,a){var c=a.get_item().get_value();if(c){b._clicked=false;b.close();clientManager[c]()}}function CheckMaxLength(c,b){var a=$(c).attr("MaxLength");a=a?parseInt(a,10):9999999;b.IsValid=!b.Value||b.Value.length<=a}Pathfinder.UI.AccountPlanningApplication=function(a){Pathfinder.UI.AccountPlanningApplication.initializeBase(this,[a])};Pathfinder.UI.AccountPlanningApplication.prototype={initialize:function(a){a.get_ChannelMenuOptions()[this.get_ApplicationID()]=[{Name:"Account Planning",ID:401}];$("#ctl00_main_subheader1_channelMenu").hide();Pathfinder.UI.AccountPlanningApplication.callBaseMethod(this,"initialize",[a])},get_UrlName:function(){return"custom/"+this.get_clientKey()},get_Title:function(){return"Account Planning"},getChannelUrlName:function(a){return"apl"},resize:function(){AccountPlanningApplication_content_resize();Pathfinder.UI.AccountPlanningApplication.callBaseMethod(this,"resize")},resizeSection:AccountPlanningApplication_section_resize,configureChannelMenu:function(a){}};Pathfinder.UI.AccountPlanningApplication.registerClass("Pathfinder.UI.AccountPlanningApplication",Pathfinder.UI.BasicApplication);function LoadPlanListByChannelType(c,b){var d=c.get_value();if(d==0){d=null}var a="marketplaceanalytics/services/PathfinderDataService.svc/ParentPlanSet?$filter=Section_ID eq "+d+"&$orderby=Plan_Name";$.getJSON(a,null,function(f,g){var j=f.d;$loadListItems($find("ctl00_partialPage_filtersContainer_AffiliationType_Plan_ID"),j,!j.length?{value:"",text:"no records available"}:null,0,"Parent_ID","Plan_Name");var i=clientManager.get_SelectionData();var h;if(i&&i.Parent_ID){h=i.Parent_ID.value}if(h){var e=$find("ctl00_partialPage_filtersContainer_AffiliationType_Plan_ID").findItemByValue(h);if(e){e.select()}}})}function onMarketSegmentItemClicked(e,c){var b=e.get_values();var f="";var a=$(".searchTextBoxFilter #Plan_Name")[0];if(a&&a.SearchList){a=a.SearchList;if(b){f="(";if($.isArray(b)){for(var d=0;d<b.length;d++){if(f.length>1){f+=" or "}f+="Section_ID eq "+b[d]}}else{f+="Section_ID eq "+b}f+=")"}if(f){f+=" and "}f+="substringof('{0}',Name)&$top=50&$orderby=Name";a.set_queryFormat("$filter="+f);a.set_queryValues()}}function SectionLoad(e,b){var g=e.get_value();if(g==0){g=null}var d="marketplaceanalytics/services/PathfinderClientDataService.svc/MSPlanSearchSet?$filter=Section_ID eq "+g+"&$orderby=Name";var f=jQuery.extend(true,{},clientManager.get_SelectionData());var c;if(f&&f.Section_ID){c=f.Section_ID.value;delete (f.Section_ID)}$.getJSON(d,null,function(a,h){var i=a.d;$loadListItems($find("ctl00_partialPage_filtersContainer_FilterChannelPlanSelection_Plan_ID1"),i,!i.length?{value:"",text:"no records available"}:null,0,"ID","Name");$loadListItems($find("ctl00_partialPage_filtersContainer_FilterChannelPlanSelection_Plan_ID2"),i,!i.length?{value:"",text:"no records available"}:null,0,"ID","Name");if(c==e.get_value()){$reloadContainer("moduleOptionsContainer",f)}})}function refreshFhrPlanSelectionList(b){var a=$(".searchTextBoxFilter #Plan_ID1")[0];if(a&&a.SearchList){a=a.SearchList;query="Section_ID eq "+b;query+=" and substringof('{0}',Name)&$top=50&$orderby=Name";a.set_queryFormat("$filter="+query);a.set_queryValues()}a=$(".searchTextBoxFilter #Plan_ID2")[0];if(a&&a.SearchList){a=a.SearchList;query="Section_ID eq "+b;query+=" and substringof('{0}',Name)&$top=50&$orderby=Name";a.set_queryFormat("$filter="+query);a.set_queryValues()}}function SectionReset(d,b){var e=clientManager.get_SelectionData();if(e&&e.Section_ID){if(e.Section_ID.value!=d.get_value()){var c=$get("Timeframe_ID");if(c.control){c.control.reset();$updateCheckboxDropdownText("ctl00_partialPage_filtersContainer_FilterTimeframe_Timeframe","Timeframe_ID")}var g=$find("ctl00_partialPage_filtersContainer_FilterChannelPlanSelection_Plan_ID1");var f=$find("ctl00_partialPage_filtersContainer_FilterChannelPlanSelection_Plan_ID2");if(g){g.clearSelection();g.trackChanges();g.get_items().getItem(0).select();g.commitChanges()}if(f){f.clearSelection();f.trackChanges();f.get_items().getItem(0).select();f.commitChanges()}}}};